import {
  require_prop_types,
  require_react_is,
  require_warning
} from "./chunk-CSQ46T4N.js";
import {
  require_react_dom
} from "./chunk-HVRFWYDF.js";
import {
  require_react
} from "./chunk-S4LFUXEE.js";
import {
  __commonJS
} from "./chunk-TWLJ45QX.js";

// node_modules/@babel/runtime/helpers/interopRequireDefault.js
var require_interopRequireDefault = __commonJS({
  "node_modules/@babel/runtime/helpers/interopRequireDefault.js"(exports, module) {
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : {
        "default": obj
      };
    }
    module.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/arrayLikeToArray.js
var require_arrayLikeToArray = __commonJS({
  "node_modules/@babel/runtime/helpers/arrayLikeToArray.js"(exports, module) {
    function _arrayLikeToArray(arr, len) {
      if (len == null || len > arr.length)
        len = arr.length;
      for (var i = 0, arr2 = new Array(len); i < len; i++)
        arr2[i] = arr[i];
      return arr2;
    }
    module.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/arrayWithoutHoles.js
var require_arrayWithoutHoles = __commonJS({
  "node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"(exports, module) {
    var arrayLikeToArray = require_arrayLikeToArray();
    function _arrayWithoutHoles(arr) {
      if (Array.isArray(arr))
        return arrayLikeToArray(arr);
    }
    module.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/iterableToArray.js
var require_iterableToArray = __commonJS({
  "node_modules/@babel/runtime/helpers/iterableToArray.js"(exports, module) {
    function _iterableToArray(iter) {
      if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
        return Array.from(iter);
    }
    module.exports = _iterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js
var require_unsupportedIterableToArray = __commonJS({
  "node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"(exports, module) {
    var arrayLikeToArray = require_arrayLikeToArray();
    function _unsupportedIterableToArray(o, minLen) {
      if (!o)
        return;
      if (typeof o === "string")
        return arrayLikeToArray(o, minLen);
      var n = Object.prototype.toString.call(o).slice(8, -1);
      if (n === "Object" && o.constructor)
        n = o.constructor.name;
      if (n === "Map" || n === "Set")
        return Array.from(o);
      if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
        return arrayLikeToArray(o, minLen);
    }
    module.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/nonIterableSpread.js
var require_nonIterableSpread = __commonJS({
  "node_modules/@babel/runtime/helpers/nonIterableSpread.js"(exports, module) {
    function _nonIterableSpread() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    module.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/toConsumableArray.js
var require_toConsumableArray = __commonJS({
  "node_modules/@babel/runtime/helpers/toConsumableArray.js"(exports, module) {
    var arrayWithoutHoles = require_arrayWithoutHoles();
    var iterableToArray = require_iterableToArray();
    var unsupportedIterableToArray = require_unsupportedIterableToArray();
    var nonIterableSpread = require_nonIterableSpread();
    function _toConsumableArray(arr) {
      return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();
    }
    module.exports = _toConsumableArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/szfe-tools/lib/isArray.js
var require_isArray = __commonJS({
  "node_modules/szfe-tools/lib/isArray.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var isArray = function isArray2(value) {
      return value instanceof Array;
    };
    var _default = isArray;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/flatten.js
var require_flatten = __commonJS({
  "node_modules/szfe-tools/lib/flatten.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var _toConsumableArray2 = _interopRequireDefault(require_toConsumableArray());
    var _isArray = _interopRequireDefault(require_isArray());
    var flatten = function flatten2(array) {
      return array.reduce(function(res, item) {
        return [].concat((0, _toConsumableArray2.default)(res), (0, _toConsumableArray2.default)((0, _isArray.default)(item) ? flatten2(item) : [item]));
      }, []);
    };
    var _default = flatten;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/isString.js
var require_isString = __commonJS({
  "node_modules/szfe-tools/lib/isString.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = isString;
    function isString(value) {
      return typeof value === "string";
    }
  }
});

// node_modules/szfe-tools/lib/isUndefined.js
var require_isUndefined = __commonJS({
  "node_modules/szfe-tools/lib/isUndefined.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var isUndefined = function isUndefined2(value) {
      return typeof value === "undefined";
    };
    var _default = isUndefined;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/isNaN.js
var require_isNaN = __commonJS({
  "node_modules/szfe-tools/lib/isNaN.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var isNaN = function isNaN2(value) {
      return value !== value;
    };
    var _default = isNaN;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/isNumber.js
var require_isNumber = __commonJS({
  "node_modules/szfe-tools/lib/isNumber.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var _isNaN = _interopRequireDefault(require_isNaN());
    var isNumber = function isNumber2(value) {
      return typeof value === "number" && !(0, _isNaN.default)(value);
    };
    var _default = isNumber;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/get.js
var require_get = __commonJS({
  "node_modules/szfe-tools/lib/get.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = get;
    var _isString = _interopRequireDefault(require_isString());
    var _isUndefined = _interopRequireDefault(require_isUndefined());
    var _isNumber = _interopRequireDefault(require_isNumber());
    function get(obj) {
      var keys = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
      var defaultValue = arguments.length > 2 ? arguments[2] : void 0;
      try {
        if ((0, _isNumber.default)(keys)) {
          keys = String(keys);
        }
        var result = ((0, _isString.default)(keys) ? keys.split(".") : keys).reduce(function(res, key) {
          return res[key];
        }, obj);
        return (0, _isUndefined.default)(result) ? defaultValue : result;
      } catch (e) {
        return defaultValue;
      }
    }
  }
});

// node_modules/szfe-tools/lib/isFunction.js
var require_isFunction = __commonJS({
  "node_modules/szfe-tools/lib/isFunction.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var isFunction = function isFunction2(value) {
      return typeof value === "function";
    };
    var _default = isFunction;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/run.js
var require_run = __commonJS({
  "node_modules/szfe-tools/lib/run.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var _isString = _interopRequireDefault(require_isString());
    var _isFunction = _interopRequireDefault(require_isFunction());
    var _get = _interopRequireDefault(require_get());
    var run = function run2(obj) {
      var keys = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
      keys = (0, _isString.default)(keys) ? keys.split(".") : keys;
      var func = (0, _get.default)(obj, keys);
      var context = (0, _get.default)(obj, keys.slice(0, -1));
      for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
        args[_key - 2] = arguments[_key];
      }
      return (0, _isFunction.default)(func) ? func.call.apply(func, [context].concat(args)) : func;
    };
    var _default = run;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/debounce.js
var require_debounce = __commonJS({
  "node_modules/szfe-tools/lib/debounce.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var debounce = function debounce2(func) {
      var wait = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 16;
      var timeout;
      return function() {
        var _this = this;
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        clearTimeout(timeout);
        timeout = setTimeout(function() {
          func.apply(_this, args);
        }, wait);
        return timeout;
      };
    };
    var _default = debounce;
    exports.default = _default;
  }
});

// node_modules/gud/index.js
var require_gud = __commonJS({
  "node_modules/gud/index.js"(exports, module) {
    "use strict";
    var key = "__global_unique_id__";
    module.exports = function() {
      return global[key] = (global[key] || 0) + 1;
    };
  }
});

// node_modules/create-react-context/lib/implementation.js
var require_implementation = __commonJS({
  "node_modules/create-react-context/lib/implementation.js"(exports, module) {
    "use strict";
    exports.__esModule = true;
    var _react = require_react();
    var _react2 = _interopRequireDefault(_react);
    var _propTypes = require_prop_types();
    var _propTypes2 = _interopRequireDefault(_propTypes);
    var _gud = require_gud();
    var _gud2 = _interopRequireDefault(_gud);
    var _warning = require_warning();
    var _warning2 = _interopRequireDefault(_warning);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _possibleConstructorReturn(self2, call) {
      if (!self2) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return call && (typeof call === "object" || typeof call === "function") ? call : self2;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } });
      if (superClass)
        Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
    }
    var MAX_SIGNED_31_BIT_INT = 1073741823;
    function objectIs(x, y) {
      if (x === y) {
        return x !== 0 || 1 / x === 1 / y;
      } else {
        return x !== x && y !== y;
      }
    }
    function createEventEmitter(value) {
      var handlers = [];
      return {
        on: function on(handler) {
          handlers.push(handler);
        },
        off: function off(handler) {
          handlers = handlers.filter(function(h) {
            return h !== handler;
          });
        },
        get: function get() {
          return value;
        },
        set: function set(newValue, changedBits) {
          value = newValue;
          handlers.forEach(function(handler) {
            return handler(value, changedBits);
          });
        }
      };
    }
    function onlyChild(children) {
      return Array.isArray(children) ? children[0] : children;
    }
    function createReactContext(defaultValue, calculateChangedBits) {
      var _Provider$childContex, _Consumer$contextType;
      var contextProp = "__create-react-context-" + (0, _gud2.default)() + "__";
      var Provider = function(_Component) {
        _inherits(Provider2, _Component);
        function Provider2() {
          var _temp, _this, _ret;
          _classCallCheck(this, Provider2);
          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.emitter = createEventEmitter(_this.props.value), _temp), _possibleConstructorReturn(_this, _ret);
        }
        Provider2.prototype.getChildContext = function getChildContext() {
          var _ref;
          return _ref = {}, _ref[contextProp] = this.emitter, _ref;
        };
        Provider2.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
          if (this.props.value !== nextProps.value) {
            var oldValue = this.props.value;
            var newValue = nextProps.value;
            var changedBits = void 0;
            if (objectIs(oldValue, newValue)) {
              changedBits = 0;
            } else {
              changedBits = typeof calculateChangedBits === "function" ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;
              if (true) {
                (0, _warning2.default)((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, "calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s", changedBits);
              }
              changedBits |= 0;
              if (changedBits !== 0) {
                this.emitter.set(nextProps.value, changedBits);
              }
            }
          }
        };
        Provider2.prototype.render = function render() {
          return this.props.children;
        };
        return Provider2;
      }(_react.Component);
      Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = _propTypes2.default.object.isRequired, _Provider$childContex);
      var Consumer = function(_Component2) {
        _inherits(Consumer2, _Component2);
        function Consumer2() {
          var _temp2, _this2, _ret2;
          _classCallCheck(this, Consumer2);
          for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
            args[_key2] = arguments[_key2];
          }
          return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, _Component2.call.apply(_Component2, [this].concat(args))), _this2), _this2.state = {
            value: _this2.getValue()
          }, _this2.onUpdate = function(newValue, changedBits) {
            var observedBits = _this2.observedBits | 0;
            if ((observedBits & changedBits) !== 0) {
              _this2.setState({ value: _this2.getValue() });
            }
          }, _temp2), _possibleConstructorReturn(_this2, _ret2);
        }
        Consumer2.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {
          var observedBits = nextProps.observedBits;
          this.observedBits = observedBits === void 0 || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;
        };
        Consumer2.prototype.componentDidMount = function componentDidMount() {
          if (this.context[contextProp]) {
            this.context[contextProp].on(this.onUpdate);
          }
          var observedBits = this.props.observedBits;
          this.observedBits = observedBits === void 0 || observedBits === null ? MAX_SIGNED_31_BIT_INT : observedBits;
        };
        Consumer2.prototype.componentWillUnmount = function componentWillUnmount() {
          if (this.context[contextProp]) {
            this.context[contextProp].off(this.onUpdate);
          }
        };
        Consumer2.prototype.getValue = function getValue() {
          if (this.context[contextProp]) {
            return this.context[contextProp].get();
          } else {
            return defaultValue;
          }
        };
        Consumer2.prototype.render = function render() {
          return onlyChild(this.props.children)(this.state.value);
        };
        return Consumer2;
      }(_react.Component);
      Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = _propTypes2.default.object, _Consumer$contextType);
      return {
        Provider,
        Consumer
      };
    }
    exports.default = createReactContext;
    module.exports = exports["default"];
  }
});

// node_modules/create-react-context/lib/index.js
var require_lib = __commonJS({
  "node_modules/create-react-context/lib/index.js"(exports, module) {
    "use strict";
    exports.__esModule = true;
    var _react = require_react();
    var _react2 = _interopRequireDefault(_react);
    var _implementation = require_implementation();
    var _implementation2 = _interopRequireDefault(_implementation);
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    exports.default = _react2.default.createContext || _implementation2.default;
    module.exports = exports["default"];
  }
});

// node_modules/@babel/runtime/helpers/typeof.js
var require_typeof = __commonJS({
  "node_modules/@babel/runtime/helpers/typeof.js"(exports, module) {
    function _typeof(obj) {
      "@babel/helpers - typeof";
      return module.exports = _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj2) {
        return typeof obj2;
      } : function(obj2) {
        return obj2 && "function" == typeof Symbol && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
      }, module.exports.__esModule = true, module.exports["default"] = module.exports, _typeof(obj);
    }
    module.exports = _typeof, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/toPrimitive.js
var require_toPrimitive = __commonJS({
  "node_modules/@babel/runtime/helpers/toPrimitive.js"(exports, module) {
    var _typeof = require_typeof()["default"];
    function _toPrimitive(input, hint) {
      if (_typeof(input) !== "object" || input === null)
        return input;
      var prim = input[Symbol.toPrimitive];
      if (prim !== void 0) {
        var res = prim.call(input, hint || "default");
        if (_typeof(res) !== "object")
          return res;
        throw new TypeError("@@toPrimitive must return a primitive value.");
      }
      return (hint === "string" ? String : Number)(input);
    }
    module.exports = _toPrimitive, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/toPropertyKey.js
var require_toPropertyKey = __commonJS({
  "node_modules/@babel/runtime/helpers/toPropertyKey.js"(exports, module) {
    var _typeof = require_typeof()["default"];
    var toPrimitive = require_toPrimitive();
    function _toPropertyKey(arg) {
      var key = toPrimitive(arg, "string");
      return _typeof(key) === "symbol" ? key : String(key);
    }
    module.exports = _toPropertyKey, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/defineProperty.js
var require_defineProperty = __commonJS({
  "node_modules/@babel/runtime/helpers/defineProperty.js"(exports, module) {
    var toPropertyKey = require_toPropertyKey();
    function _defineProperty(obj, key, value) {
      key = toPropertyKey(key);
      if (key in obj) {
        Object.defineProperty(obj, key, {
          value,
          enumerable: true,
          configurable: true,
          writable: true
        });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    module.exports = _defineProperty, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/@babel/runtime/helpers/classCallCheck.js
var require_classCallCheck = __commonJS({
  "node_modules/@babel/runtime/helpers/classCallCheck.js"(exports, module) {
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    module.exports = _classCallCheck, module.exports.__esModule = true, module.exports["default"] = module.exports;
  }
});

// node_modules/szfe-tools/lib/EventBus.js
var require_EventBus = __commonJS({
  "node_modules/szfe-tools/lib/EventBus.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var _defineProperty2 = _interopRequireDefault(require_defineProperty());
    var _classCallCheck2 = _interopRequireDefault(require_classCallCheck());
    var _isFunction = _interopRequireDefault(require_isFunction());
    var _isUndefined = _interopRequireDefault(require_isUndefined());
    function ownKeys(object, enumerableOnly) {
      var keys = Object.keys(object);
      if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        if (enumerableOnly)
          symbols = symbols.filter(function(sym) {
            return Object.getOwnPropertyDescriptor(object, sym).enumerable;
          });
        keys.push.apply(keys, symbols);
      }
      return keys;
    }
    function _objectSpread(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = arguments[i] != null ? arguments[i] : {};
        if (i % 2) {
          ownKeys(Object(source), true).forEach(function(key) {
            (0, _defineProperty2.default)(target, key, source[key]);
          });
        } else if (Object.getOwnPropertyDescriptors) {
          Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
        } else {
          ownKeys(Object(source)).forEach(function(key) {
            Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
          });
        }
      }
      return target;
    }
    var EventBus = function EventBus2() {
      var _this = this;
      (0, _classCallCheck2.default)(this, EventBus2);
      this.listeners = {};
      this.getEventMap = function(event) {
        if (!_this.listeners[event]) {
          _this.listeners[event] = /* @__PURE__ */ new Map();
        }
        return _this.listeners[event];
      };
      this.on = function(event, listener) {
        var _ref = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, _ref$once = _ref.once, once = _ref$once === void 0 ? false : _ref$once;
        if (!(0, _isFunction.default)(listener)) {
          console.error("[EventBus Error] listener is not a function");
          return _this;
        }
        _this.getEventMap(event).set(listener, once ? function() {
          listener.apply(void 0, arguments);
          _this.off(event, listener);
        } : listener);
        return _this;
      };
      this.once = function(event, listener) {
        var config = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {};
        return _this.on(event, listener, _objectSpread(_objectSpread({}, config), {}, {
          once: true
        }));
      };
      this.off = function(event, listener) {
        var eventMap = _this.getEventMap(event);
        if ((0, _isUndefined.default)(listener)) {
          eventMap.clear();
        } else {
          eventMap.delete(listener);
        }
        return _this;
      };
      this.emit = function(event) {
        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          args[_key - 1] = arguments[_key];
        }
        return _this.getEventMap(event).forEach(function(listener) {
          return listener.apply(void 0, args);
        });
      };
    };
    exports.default = EventBus;
  }
});

// node_modules/szfe-tools/lib/nextTick.js
var require_nextTick = __commonJS({
  "node_modules/szfe-tools/lib/nextTick.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var nextTick = function nextTick2(func) {
      return Promise.resolve().then(func);
    };
    var _default = nextTick;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/isNull.js
var require_isNull = __commonJS({
  "node_modules/szfe-tools/lib/isNull.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var isNull = function isNull2(value) {
      return value === null;
    };
    var _default = isNull;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/isExist.js
var require_isExist = __commonJS({
  "node_modules/szfe-tools/lib/isExist.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var _isUndefined = _interopRequireDefault(require_isUndefined());
    var _isNull = _interopRequireDefault(require_isNull());
    var isExist = function isExist2(value) {
      return !((0, _isUndefined.default)(value) || (0, _isNull.default)(value));
    };
    var _default = isExist;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/memoize.js
var require_memoize = __commonJS({
  "node_modules/szfe-tools/lib/memoize.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var memoize = function memoize2(func) {
      var _ref = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, _ref$disable = _ref.disable, disable = _ref$disable === void 0 ? function() {
        return false;
      } : _ref$disable;
      var cache = /* @__PURE__ */ new Map();
      var memoizedFunc = function memoizedFunc2(key) {
        if (cache.has(key)) {
          return cache.get(key);
        }
        for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          rest[_key - 1] = arguments[_key];
        }
        var result = func.call.apply(func, [this, key].concat(rest));
        if (!disable.call(this, {
          cache,
          key,
          result,
          drop: function drop() {
            return cache.delete(key);
          }
        })) {
          cache.set(key, result);
        }
        return result;
      };
      memoizedFunc.cache = cache;
      return memoizedFunc;
    };
    var _default = memoize;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/isObject.js
var require_isObject = __commonJS({
  "node_modules/szfe-tools/lib/isObject.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var _typeof2 = _interopRequireDefault(require_typeof());
    var _isArray = _interopRequireDefault(require_isArray());
    var _isNull = _interopRequireDefault(require_isNull());
    var isObject = function isObject2(value) {
      return (0, _typeof2.default)(value) === "object" && !((0, _isArray.default)(value) || (0, _isNull.default)(value));
    };
    var _default = isObject;
    exports.default = _default;
  }
});

// node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js
var require_hoist_non_react_statics_cjs = __commonJS({
  "node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"(exports, module) {
    "use strict";
    var reactIs = require_react_is();
    var REACT_STATICS = {
      childContextTypes: true,
      contextType: true,
      contextTypes: true,
      defaultProps: true,
      displayName: true,
      getDefaultProps: true,
      getDerivedStateFromError: true,
      getDerivedStateFromProps: true,
      mixins: true,
      propTypes: true,
      type: true
    };
    var KNOWN_STATICS = {
      name: true,
      length: true,
      prototype: true,
      caller: true,
      callee: true,
      arguments: true,
      arity: true
    };
    var FORWARD_REF_STATICS = {
      "$$typeof": true,
      render: true,
      defaultProps: true,
      displayName: true,
      propTypes: true
    };
    var MEMO_STATICS = {
      "$$typeof": true,
      compare: true,
      defaultProps: true,
      displayName: true,
      propTypes: true,
      type: true
    };
    var TYPE_STATICS = {};
    TYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;
    TYPE_STATICS[reactIs.Memo] = MEMO_STATICS;
    function getStatics(component) {
      if (reactIs.isMemo(component)) {
        return MEMO_STATICS;
      }
      return TYPE_STATICS[component["$$typeof"]] || REACT_STATICS;
    }
    var defineProperty = Object.defineProperty;
    var getOwnPropertyNames = Object.getOwnPropertyNames;
    var getOwnPropertySymbols = Object.getOwnPropertySymbols;
    var getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;
    var getPrototypeOf = Object.getPrototypeOf;
    var objectPrototype = Object.prototype;
    function hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {
      if (typeof sourceComponent !== "string") {
        if (objectPrototype) {
          var inheritedComponent = getPrototypeOf(sourceComponent);
          if (inheritedComponent && inheritedComponent !== objectPrototype) {
            hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);
          }
        }
        var keys = getOwnPropertyNames(sourceComponent);
        if (getOwnPropertySymbols) {
          keys = keys.concat(getOwnPropertySymbols(sourceComponent));
        }
        var targetStatics = getStatics(targetComponent);
        var sourceStatics = getStatics(sourceComponent);
        for (var i = 0; i < keys.length; ++i) {
          var key = keys[i];
          if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {
            var descriptor = getOwnPropertyDescriptor(sourceComponent, key);
            try {
              defineProperty(targetComponent, key, descriptor);
            } catch (e) {
            }
          }
        }
      }
      return targetComponent;
    }
    module.exports = hoistNonReactStatics;
  }
});

// node_modules/szfe-tools/lib/value.js
var require_value = __commonJS({
  "node_modules/szfe-tools/lib/value.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var _isUndefined = _interopRequireDefault(require_isUndefined());
    var _run = _interopRequireDefault(require_run());
    var value = function value2() {
      for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
        values[_key] = arguments[_key];
      }
      return values.reduce(function(value3, nextValue) {
        return (0, _isUndefined.default)(value3) ? (0, _run.default)(nextValue) : (0, _run.default)(value3);
      }, void 0);
    };
    var _default = value;
    exports.default = _default;
  }
});

// node_modules/szfe-tools/lib/globalThis.js
var require_globalThis = __commonJS({
  "node_modules/szfe-tools/lib/globalThis.js"(exports) {
    "use strict";
    var _interopRequireDefault = require_interopRequireDefault();
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.default = void 0;
    var _typeof2 = _interopRequireDefault(require_typeof());
    var getImplementation = function getImplementation2() {
      if (typeof window !== "undefined") {
        return window;
      }
      if (typeof self !== "undefined") {
        return self;
      }
      if (typeof global !== "undefined") {
        return global;
      }
      return Function("return this")();
    };
    var implementation = getImplementation();
    var getGlobal = function getGlobal2() {
      if ((typeof global === "undefined" ? "undefined" : (0, _typeof2.default)(global)) !== "object" || !global || global.Math !== Math || global.Array !== Array) {
        return implementation;
      }
      return global;
    };
    var globalThis = getGlobal();
    var _default = globalThis;
    exports.default = _default;
  }
});

// node_modules/react-node-key/lib/index.js
var require_lib2 = __commonJS({
  "node_modules/react-node-key/lib/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function _interopDefault(ex) {
      return ex && typeof ex === "object" && "default" in ex ? ex["default"] : ex;
    }
    var _run = _interopDefault(require_run());
    var react = require_react();
    var _isFunction = _interopDefault(require_isFunction());
    var _isString = _interopDefault(require_isString());
    var _get = _interopDefault(require_get());
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      return Constructor;
    }
    function _defineProperty(obj, key, value) {
      if (key in obj) {
        Object.defineProperty(obj, key, {
          value,
          enumerable: true,
          configurable: true,
          writable: true
        });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          writable: true,
          configurable: true
        }
      });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Date.prototype.toString.call(Reflect.construct(Date, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (typeof call === "object" || typeof call === "function")) {
        return call;
      }
      return _assertThisInitialized(self2);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _toConsumableArray(arr) {
      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
    }
    function _arrayWithoutHoles(arr) {
      if (Array.isArray(arr))
        return _arrayLikeToArray(arr);
    }
    function _iterableToArray(iter) {
      if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter))
        return Array.from(iter);
    }
    function _unsupportedIterableToArray(o, minLen) {
      if (!o)
        return;
      if (typeof o === "string")
        return _arrayLikeToArray(o, minLen);
      var n = Object.prototype.toString.call(o).slice(8, -1);
      if (n === "Object" && o.constructor)
        n = o.constructor.name;
      if (n === "Map" || n === "Set")
        return Array.from(o);
      if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
        return _arrayLikeToArray(o, minLen);
    }
    function _arrayLikeToArray(arr, len) {
      if (len == null || len > arr.length)
        len = arr.length;
      for (var i = 0, arr2 = new Array(len); i < len; i++)
        arr2[i] = arr[i];
      return arr2;
    }
    function _nonIterableSpread() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function getKey2Id() {
      var uuid = 0;
      var map = /* @__PURE__ */ new Map();
      return function key2Id2(key) {
        var id = map.get(key);
        if (!id) {
          id = (++uuid).toString(32);
          map.set(key, id);
        }
        return id;
      };
    }
    var isArrReg = /^iAr/;
    var key2Id = getKey2Id();
    var genRenderPath = function genRenderPath2(node) {
      return node["return"] ? [node].concat(_toConsumableArray(genRenderPath2(node["return"]))) : [node];
    };
    var getNodeId = function getNodeId2(fiberNode) {
      var id = _get(fiberNode, "key") || fiberNode.index;
      var nodeKey = _get(fiberNode, "memoizedProps._nk") || _get(fiberNode, "pendingProps._nk");
      var isArray = _isString(nodeKey) && isArrReg.test(nodeKey);
      return isArray ? "".concat(nodeKey, ".").concat(id) : nodeKey || id;
    };
    var markNode = function markNode2(node) {
      var x = key2Id(_get(node, "type.$$typeof", node.type));
      var y = getNodeId(node);
      return "".concat(x, ",").concat(y);
    };
    var getKeyByCoord = function getKeyByCoord2(nodes, handleNode) {
      return nodes.map(function(node) {
        var mark = markNode(node);
        return _isFunction(handleNode) ? _run(handleNode, void 0, node, mark) : mark;
      }).filter(Boolean).join("|");
    };
    var getKeyByFiberNode = function getKeyByFiberNode2(fiberNode, handleNode) {
      var key = getKeyByCoord(genRenderPath(fiberNode), handleNode);
      return key2Id(key);
    };
    var isArrReg$1 = /^iAr/;
    var key2Id$1 = getKey2Id();
    var genRenderPath$1 = function genRenderPath2(node) {
      return node.__ ? [node].concat(_toConsumableArray(genRenderPath2(node.__))) : [node];
    };
    var getNodeId$1 = function getNodeId2(node) {
      var id = _get(node, "key") || node.index;
      var nodeKey = _get(node, "props._nk");
      var isArray = _isString(nodeKey) && isArrReg$1.test(nodeKey);
      return isArray ? "".concat(nodeKey, ".").concat(id) : nodeKey || id;
    };
    var markNode$1 = function markNode2(node) {
      var x = key2Id$1(node.type);
      var y = getNodeId$1(node);
      return "".concat(x, ",").concat(y);
    };
    var getKeyByCoord$1 = function getKeyByCoord2(nodes, handleNode) {
      return nodes.map(function(node) {
        var mark = markNode$1(node);
        return _isFunction(handleNode) ? _run(handleNode, void 0, node, mark) : mark;
      }).filter(Boolean).join("|");
    };
    var getKeyByNode = function getKeyByNode2(node, handleNode) {
      var key = getKeyByCoord$1(genRenderPath$1(node), handleNode);
      return key2Id$1(key);
    };
    var type;
    var NodeKey = function(_Component) {
      _inherits(NodeKey2, _Component);
      var _super = _createSuper(NodeKey2);
      function NodeKey2() {
        var _this;
        _classCallCheck(this, NodeKey2);
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        _this = _super.call.apply(_super, [this].concat(args));
        _defineProperty(_assertThisInitialized(_this), "key", null);
        _defineProperty(_assertThisInitialized(_this), "genKey", function(onHandleNode) {
          if (!type) {
            if (_this._reactInternalFiber || _this._reactInternals) {
              type = "React";
            }
            if (_this.__v) {
              type = "Preact";
            }
          }
          switch (type) {
            case "Preact": {
              _this.key = getKeyByNode(_this.__v, onHandleNode);
              break;
            }
            case "React": {
              var fiberNode = _this._reactInternalFiber || _this._reactInternals;
              _this.key = getKeyByFiberNode(fiberNode, onHandleNode);
              break;
            }
          }
          return _this.key;
        });
        return _this;
      }
      _createClass(NodeKey2, [{
        key: "render",
        value: function render() {
          var _this$props = this.props, manualKey = _this$props.manualKey, children = _this$props.children, prefix = _this$props.prefix, onHandleNode = _this$props.onHandleNode;
          return _run(children, void 0, "".concat(prefix).concat(this.key || this.genKey(onHandleNode)));
        }
      }]);
      return NodeKey2;
    }(react.Component);
    _defineProperty(NodeKey, "defaultProps", {
      onHandleNode: void 0,
      manualKey: void 0,
      prefix: ""
    });
    exports.default = NodeKey;
  }
});

// node_modules/react-node-key/index.js
var require_react_node_key = __commonJS({
  "node_modules/react-node-key/index.js"(exports, module) {
    "use strict";
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_lib2();
    }
  }
});

// node_modules/react-activation/lib/index.js
var require_lib3 = __commonJS({
  "node_modules/react-activation/lib/index.js"(exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    function _interopDefault(ex) {
      return ex && typeof ex === "object" && "default" in ex ? ex["default"] : ex;
    }
    var _flatten = _interopDefault(require_flatten());
    var _get = _interopDefault(require_get());
    var _run = _interopDefault(require_run());
    var _debounce = _interopDefault(require_debounce());
    var React = require_react();
    var React__default = _interopDefault(React);
    var _isFunction = _interopDefault(require_isFunction());
    var createContext$1 = _interopDefault(require_lib());
    var _EventBus = _interopDefault(require_EventBus());
    var _nextTick = _interopDefault(require_nextTick());
    var reactDom = require_react_dom();
    var _isString = _interopDefault(require_isString());
    var _isExist = _interopDefault(require_isExist());
    var _memoize = _interopDefault(require_memoize());
    var _isUndefined = _interopDefault(require_isUndefined());
    var _isObject = _interopDefault(require_isObject());
    var hoistStatics = _interopDefault(require_hoist_non_react_statics_cjs());
    var _value = _interopDefault(require_value());
    var _isArray = _interopDefault(require_isArray());
    var _globalThis = _interopDefault(require_globalThis());
    var NodeKey = _interopDefault(require_react_node_key());
    function ownKeys(object, enumerableOnly) {
      var keys = Object.keys(object);
      if (Object.getOwnPropertySymbols) {
        var symbols = Object.getOwnPropertySymbols(object);
        enumerableOnly && (symbols = symbols.filter(function(sym) {
          return Object.getOwnPropertyDescriptor(object, sym).enumerable;
        })), keys.push.apply(keys, symbols);
      }
      return keys;
    }
    function _objectSpread2(target) {
      for (var i = 1; i < arguments.length; i++) {
        var source = null != arguments[i] ? arguments[i] : {};
        i % 2 ? ownKeys(Object(source), true).forEach(function(key) {
          _defineProperty(target, key, source[key]);
        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function(key) {
          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
      }
      return target;
    }
    function _classCallCheck(instance, Constructor) {
      if (!(instance instanceof Constructor)) {
        throw new TypeError("Cannot call a class as a function");
      }
    }
    function _defineProperties(target, props) {
      for (var i = 0; i < props.length; i++) {
        var descriptor = props[i];
        descriptor.enumerable = descriptor.enumerable || false;
        descriptor.configurable = true;
        if ("value" in descriptor)
          descriptor.writable = true;
        Object.defineProperty(target, descriptor.key, descriptor);
      }
    }
    function _createClass(Constructor, protoProps, staticProps) {
      if (protoProps)
        _defineProperties(Constructor.prototype, protoProps);
      if (staticProps)
        _defineProperties(Constructor, staticProps);
      Object.defineProperty(Constructor, "prototype", {
        writable: false
      });
      return Constructor;
    }
    function _defineProperty(obj, key, value) {
      if (key in obj) {
        Object.defineProperty(obj, key, {
          value,
          enumerable: true,
          configurable: true,
          writable: true
        });
      } else {
        obj[key] = value;
      }
      return obj;
    }
    function _extends() {
      _extends = Object.assign ? Object.assign.bind() : function(target) {
        for (var i = 1; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (Object.prototype.hasOwnProperty.call(source, key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      };
      return _extends.apply(this, arguments);
    }
    function _inherits(subClass, superClass) {
      if (typeof superClass !== "function" && superClass !== null) {
        throw new TypeError("Super expression must either be null or a function");
      }
      subClass.prototype = Object.create(superClass && superClass.prototype, {
        constructor: {
          value: subClass,
          writable: true,
          configurable: true
        }
      });
      Object.defineProperty(subClass, "prototype", {
        writable: false
      });
      if (superClass)
        _setPrototypeOf(subClass, superClass);
    }
    function _getPrototypeOf(o) {
      _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf2(o2) {
        return o2.__proto__ || Object.getPrototypeOf(o2);
      };
      return _getPrototypeOf(o);
    }
    function _setPrototypeOf(o, p) {
      _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf2(o2, p2) {
        o2.__proto__ = p2;
        return o2;
      };
      return _setPrototypeOf(o, p);
    }
    function _isNativeReflectConstruct() {
      if (typeof Reflect === "undefined" || !Reflect.construct)
        return false;
      if (Reflect.construct.sham)
        return false;
      if (typeof Proxy === "function")
        return true;
      try {
        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
        }));
        return true;
      } catch (e) {
        return false;
      }
    }
    function _objectWithoutPropertiesLoose(source, excluded) {
      if (source == null)
        return {};
      var target = {};
      var sourceKeys = Object.keys(source);
      var key, i;
      for (i = 0; i < sourceKeys.length; i++) {
        key = sourceKeys[i];
        if (excluded.indexOf(key) >= 0)
          continue;
        target[key] = source[key];
      }
      return target;
    }
    function _objectWithoutProperties(source, excluded) {
      if (source == null)
        return {};
      var target = _objectWithoutPropertiesLoose(source, excluded);
      var key, i;
      if (Object.getOwnPropertySymbols) {
        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);
        for (i = 0; i < sourceSymbolKeys.length; i++) {
          key = sourceSymbolKeys[i];
          if (excluded.indexOf(key) >= 0)
            continue;
          if (!Object.prototype.propertyIsEnumerable.call(source, key))
            continue;
          target[key] = source[key];
        }
      }
      return target;
    }
    function _assertThisInitialized(self2) {
      if (self2 === void 0) {
        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
      }
      return self2;
    }
    function _possibleConstructorReturn(self2, call) {
      if (call && (typeof call === "object" || typeof call === "function")) {
        return call;
      } else if (call !== void 0) {
        throw new TypeError("Derived constructors may only return object or undefined");
      }
      return _assertThisInitialized(self2);
    }
    function _createSuper(Derived) {
      var hasNativeReflectConstruct = _isNativeReflectConstruct();
      return function _createSuperInternal() {
        var Super = _getPrototypeOf(Derived), result;
        if (hasNativeReflectConstruct) {
          var NewTarget = _getPrototypeOf(this).constructor;
          result = Reflect.construct(Super, arguments, NewTarget);
        } else {
          result = Super.apply(this, arguments);
        }
        return _possibleConstructorReturn(this, result);
      };
    }
    function _slicedToArray(arr, i) {
      return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();
    }
    function _toArray(arr) {
      return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest();
    }
    function _toConsumableArray(arr) {
      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();
    }
    function _arrayWithoutHoles(arr) {
      if (Array.isArray(arr))
        return _arrayLikeToArray(arr);
    }
    function _arrayWithHoles(arr) {
      if (Array.isArray(arr))
        return arr;
    }
    function _iterableToArray(iter) {
      if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
        return Array.from(iter);
    }
    function _iterableToArrayLimit(arr, i) {
      var _i = arr == null ? null : typeof Symbol !== "undefined" && arr[Symbol.iterator] || arr["@@iterator"];
      if (_i == null)
        return;
      var _arr = [];
      var _n = true;
      var _d = false;
      var _s, _e;
      try {
        for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {
          _arr.push(_s.value);
          if (i && _arr.length === i)
            break;
        }
      } catch (err) {
        _d = true;
        _e = err;
      } finally {
        try {
          if (!_n && _i["return"] != null)
            _i["return"]();
        } finally {
          if (_d)
            throw _e;
        }
      }
      return _arr;
    }
    function _unsupportedIterableToArray(o, minLen) {
      if (!o)
        return;
      if (typeof o === "string")
        return _arrayLikeToArray(o, minLen);
      var n = Object.prototype.toString.call(o).slice(8, -1);
      if (n === "Object" && o.constructor)
        n = o.constructor.name;
      if (n === "Map" || n === "Set")
        return Array.from(o);
      if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
        return _arrayLikeToArray(o, minLen);
    }
    function _arrayLikeToArray(arr, len) {
      if (len == null || len > arr.length)
        len = arr.length;
      for (var i = 0, arr2 = new Array(len); i < len; i++)
        arr2[i] = arr[i];
      return arr2;
    }
    function _nonIterableSpread() {
      throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    function _nonIterableRest() {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    var isRegExp = function isRegExp2(val) {
      return val instanceof RegExp;
    };
    var aliveScopeContext = createContext$1();
    var AliveScopeProvider = aliveScopeContext.Provider;
    var AliveScopeConsumer = aliveScopeContext.Consumer;
    var aliveNodeContext = createContext$1();
    var AliveNodeProvider = aliveNodeContext.Provider;
    var AliveNodeConsumer = aliveNodeContext.Consumer;
    var eventBus = new _EventBus();
    var FakeScopeProvider = function(_Component) {
      _inherits(FakeScopeProvider2, _Component);
      var _super = _createSuper(FakeScopeProvider2);
      function FakeScopeProvider2(props) {
        var _this;
        _classCallCheck(this, FakeScopeProvider2);
        _this = _super.call(this, props);
        FakeScopeProvider2.currentContextValue = props.value;
        return _this;
      }
      _createClass(FakeScopeProvider2, [{
        key: "shouldComponentUpdate",
        value: function shouldComponentUpdate(nextProps) {
          if (nextProps.value !== this.props.value) {
            FakeScopeProvider2.currentContextValue = nextProps.value;
            eventBus.emit("update", nextProps.value);
          }
          return nextProps.children !== this.props.children || nextProps.value !== this.props.value;
        }
      }, {
        key: "render",
        value: function render() {
          var children = this.props.children;
          return children;
        }
      }]);
      return FakeScopeProvider2;
    }(React.Component);
    _defineProperty(FakeScopeProvider, "eventBus", eventBus);
    _defineProperty(FakeScopeProvider, "currentContextValue", void 0);
    var FakeScopeConsumer = function(_PureComponent) {
      _inherits(FakeScopeConsumer2, _PureComponent);
      var _super2 = _createSuper(FakeScopeConsumer2);
      function FakeScopeConsumer2(props) {
        var _this2;
        _classCallCheck(this, FakeScopeConsumer2);
        _this2 = _super2.call(this, props);
        _defineProperty(_assertThisInitialized(_this2), "state", {
          context: FakeScopeProvider.currentContextValue
        });
        _defineProperty(_assertThisInitialized(_this2), "updateListener", _debounce(function(nextContextValue) {
          _this2.setState({
            context: nextContextValue
          });
        }));
        eventBus.on("update", _this2.updateListener);
        return _this2;
      }
      _createClass(FakeScopeConsumer2, [{
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          eventBus.off("update", this.updateListener);
        }
      }, {
        key: "render",
        value: function render() {
          var children = this.props.children;
          var context = this.state.context;
          return _run(children, void 0, context);
        }
      }]);
      return FakeScopeConsumer2;
    }(React.PureComponent);
    var _excluded = ["children"];
    var _filehash = "qj9A";
    var useScopeContext = function useScopeContext2() {
      if (!_isFunction(React.useContext)) {
        return {};
      }
      var scopeReactContext = React.useContext(aliveScopeContext);
      if (scopeReactContext) {
        return scopeReactContext;
      }
      var _useState = React.useState(FakeScopeProvider.currentContextValue), _useState2 = _slicedToArray(_useState, 2), context = _useState2[0], setContext = _useState2[1];
      React.useEffect(function() {
        var updateListener = _debounce(setContext);
        eventBus.on("update", updateListener);
        return function() {
          return eventBus.off("update", updateListener);
        };
      }, []);
      return context;
    };
    var AliveScopeProvider$1 = function AliveScopeProvider$12(_ref) {
      var children = _ref.children, props = _objectWithoutProperties(_ref, _excluded);
      return React__default.createElement(AliveScopeProvider, _extends({}, props, {
        _nk: "".concat(_filehash, "11")
      }), React__default.createElement(FakeScopeProvider, _extends({}, props, {
        _nk: "".concat(_filehash, "21")
      }), children));
    };
    var AliveScopeConsumer$1 = function AliveScopeConsumer$12(_ref2) {
      var children = _ref2.children;
      return React__default.createElement(AliveScopeConsumer, {
        _nk: "".concat(_filehash, "31")
      }, function(reactContext) {
        return !!reactContext ? _run(children, void 0, reactContext) : React__default.createElement(FakeScopeConsumer, {
          _nk: "".concat(_filehash, "41")
        }, children);
      });
    };
    var _filehash$1 = "Leb+";
    var Suspender = function(_Component) {
      _inherits(Suspender2, _Component);
      var _super = _createSuper(Suspender2);
      function Suspender2() {
        var _this;
        _classCallCheck(this, Suspender2);
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        _this = _super.call.apply(_super, [this].concat(args));
        _defineProperty(_assertThisInitialized(_this), "promiseCache", {});
        return _this;
      }
      _createClass(Suspender2, [{
        key: "render",
        value: function render() {
          var _this$props = this.props, freeze = _this$props.freeze, children = _this$props.children;
          var promiseCache = this.promiseCache;
          if (freeze && !promiseCache.promise) {
            promiseCache.promise = new Promise(function(resolve) {
              promiseCache.resolve = resolve;
            });
            throw promiseCache.promise;
          } else if (freeze) {
            throw promiseCache.promise;
          } else if (promiseCache.promise) {
            promiseCache.resolve();
            promiseCache.promise = void 0;
          }
          return React__default.createElement(React.Fragment, null, children);
        }
      }]);
      return Suspender2;
    }(React.Component);
    function Freeze(_ref) {
      var freeze = _ref.freeze, children = _ref.children, _ref$placeholder = _ref.placeholder, placeholder = _ref$placeholder === void 0 ? null : _ref$placeholder;
      return React__default.createElement(React.Suspense, {
        fallback: placeholder,
        _nk: "".concat(_filehash$1, "11")
      }, React__default.createElement(Suspender, {
        freeze,
        _nk: "".concat(_filehash$1, "21")
      }, children));
    }
    var fixedContext = [];
    var updateListenerCache = /* @__PURE__ */ new Map();
    var eventBus$1 = new _EventBus();
    var fixContext = _memoize(function(ctx) {
      if (!_isExist(ctx)) {
        return;
      }
      if ([aliveScopeContext, aliveNodeContext].includes(ctx)) {
        return;
      }
      fixedContext.push(ctx);
      setTimeout(function() {
        return eventBus$1.emit("update");
      });
    });
    var createContext = function createContext2(defaultValue, calculateChangedBits) {
      var ctx = createContext$1(defaultValue, calculateChangedBits);
      fixContext(ctx);
      return ctx;
    };
    var tryFixCtx = _memoize(function(type) {
      var ctx = _get(type, "_context") || _get(type, "context");
      if (_get(ctx, "$$typeof") === _get(aliveScopeContext, "$$typeof")) {
        fixContext(ctx);
      }
    });
    var override = function override2(configs) {
      configs.forEach(function(_ref) {
        var _ref2 = _toArray(_ref), host = _ref2[0], methods = _ref2.slice(1);
        methods.forEach(function(method) {
          if (!_isFunction(_get(host, method)) || _get(host, [method, "_overridden"])) {
            return;
          }
          var originMethod = host[method].bind(host);
          host[method] = function(type) {
            if (!_isString(type)) {
              tryFixCtx(type);
            }
            for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
              args[_key - 1] = arguments[_key];
            }
            return originMethod.apply(void 0, [type].concat(args));
          };
          host[method]._overridden = true;
        });
      });
    };
    var autoFixContext = function autoFixContext2() {
      try {
        for (var _len2 = arguments.length, configs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
          configs[_key2] = arguments[_key2];
        }
        override(configs);
      } catch (err) {
        console.warn("activation override failed:", err);
      }
    };
    autoFixContext([React__default, "createElement"]);
    var _filehash$2 = "lqEk";
    var ProviderBridge = function(_PureComponent) {
      _inherits(ProviderBridge2, _PureComponent);
      var _super = _createSuper(ProviderBridge2);
      function ProviderBridge2(props) {
        var _this;
        _classCallCheck(this, ProviderBridge2);
        _this = _super.call(this, props);
        _defineProperty(_assertThisInitialized(_this), "unmount", null);
        var ctxValues = props.value;
        if (ctxValues.length === 0) {
          _this.state = {
            ctxValue: null
          };
          return _possibleConstructorReturn(_this);
        }
        var _ctxValues = _slicedToArray(ctxValues, 1), _ctxValues$ = _ctxValues[0], ctx = _ctxValues$.ctx, value = _ctxValues$.value, onUpdate = _ctxValues$.onUpdate;
        _this.state = {
          ctxValue: value
        };
        _this.unmount = onUpdate(function(value2) {
          _this.setState({
            ctxValue: value2
          });
        });
        return _this;
      }
      _createClass(ProviderBridge2, [{
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          _run(this.unmount);
        }
      }, {
        key: "render",
        value: function render() {
          var _this$props = this.props, ctxValues = _this$props.value, children = _this$props.children;
          if (ctxValues.length === 0) {
            return children;
          }
          var ctxValue = this.state.ctxValue;
          var _ctxValues2 = _toArray(ctxValues), ctx = _ctxValues2[0].ctx, restValues = _ctxValues2.slice(1);
          var Provider = ctx.Provider;
          var nextChildren = !_isUndefined(ctxValue) ? React__default.createElement(Provider, {
            value: ctxValue,
            _nk: "".concat(_filehash$2, "11")
          }, children) : children;
          return restValues.length > 0 ? React__default.createElement(ProviderBridge2, {
            value: restValues,
            _nk: "".concat(_filehash$2, "21")
          }, nextChildren) : nextChildren;
        }
      }]);
      return ProviderBridge2;
    }(React.PureComponent);
    var ConsumerWrapper = function(_Component) {
      _inherits(ConsumerWrapper2, _Component);
      var _super = _createSuper(ConsumerWrapper2);
      function ConsumerWrapper2(props) {
        var _this;
        _classCallCheck(this, ConsumerWrapper2);
        _this = _super.call(this, props);
        _defineProperty(_assertThisInitialized(_this), "updateListener", null);
        _defineProperty(_assertThisInitialized(_this), "ctxInfo", null);
        var value = props.value, ctx = props.ctx, id = props.id;
        if (_isUndefined(value)) {
          return _possibleConstructorReturn(_this);
        }
        _this.updateListener = _get(updateListenerCache.get(ctx), id, /* @__PURE__ */ new Map());
        _run(_this.updateListener, "forEach", function(fn) {
          return fn(value);
        });
        _this.ctxInfo = {
          ctx,
          value,
          onUpdate: function onUpdate(updator) {
            _this.updateListener.set(updator, updator);
            return function() {
              return _this.updateListener["delete"](updator);
            };
          }
        };
        return _this;
      }
      _createClass(ConsumerWrapper2, [{
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          var _this$props = this.props, value = _this$props.value, ctx = _this$props.ctx, id = _this$props.id;
          if (_isUndefined(value)) {
            return;
          }
          updateListenerCache.set(ctx, _objectSpread2(_objectSpread2({}, _get(updateListenerCache.get(ctx), void 0, {})), {}, _defineProperty({}, id, this.updateListener)));
        }
      }, {
        key: "shouldComponentUpdate",
        value: function shouldComponentUpdate(_ref) {
          var value = _ref.value;
          var prevValue = this.props.value;
          var shouldUpdate = prevValue !== value;
          if (shouldUpdate) {
            _run(this.updateListener, "forEach", function(fn) {
              return fn(value);
            });
          }
          return true;
        }
      }, {
        key: "render",
        value: function render() {
          var _this2 = this;
          var _this$props2 = this.props, value = _this$props2.value, renderWrapper = _this$props2.renderWrapper, renderContent = _this$props2.renderContent, id = _this$props2.id;
          return renderWrapper(function(ctx$$) {
            return renderContent(_isUndefined(value) ? ctx$$ : [].concat(_toConsumableArray(ctx$$), [_this2.ctxInfo]));
          });
        }
      }]);
      return ConsumerWrapper2;
    }(React.Component);
    var _filehash$3 = "SsUr";
    var fixedContextSnapshot = {};
    var RecursiveConsumerBridge = function(_PureComponent) {
      _inherits(RecursiveConsumerBridge2, _PureComponent);
      var _super = _createSuper(RecursiveConsumerBridge2);
      function RecursiveConsumerBridge2(props) {
        var _this;
        _classCallCheck(this, RecursiveConsumerBridge2);
        _this = _super.call(this, props);
        _defineProperty(_assertThisInitialized(_this), "renderWrapper", function(renderChildren) {
          var id = _this.props.id;
          var renderWrapper = fixedContextSnapshot[id].reduce(function(render, ctx) {
            var Consumer = ctx.Consumer;
            var renderWrapper2 = function renderWrapper3(renderContent) {
              return React__default.createElement(Consumer, {
                _nk: "".concat(_filehash$3, "11")
              }, function(value) {
                return React__default.createElement(ConsumerWrapper, {
                  value,
                  ctx,
                  renderWrapper: render,
                  renderContent,
                  id,
                  _nk: "".concat(_filehash$3, "21")
                });
              });
            };
            return renderWrapper2;
          }, function(renderContent) {
            return renderContent([]);
          });
          return renderWrapper(renderChildren);
        });
        var _id = props.id;
        if (!fixedContextSnapshot[_id]) {
          fixedContextSnapshot[_id] = _toConsumableArray(fixedContext);
        }
        return _this;
      }
      _createClass(RecursiveConsumerBridge2, [{
        key: "render",
        value: function render() {
          var renderChildren = this.props.children;
          return this.renderWrapper(renderChildren);
        }
      }]);
      return RecursiveConsumerBridge2;
    }(React.PureComponent);
    var _filehash$4 = "46lG";
    var isSupported = _isFunction(React.lazy) && !_isUndefined(React.Suspense);
    var SusNotSupported = function SusNotSupported2(_ref) {
      var children = _ref.children;
      return _run(children);
    };
    var Lazy = isSupported ? React.lazy(function() {
      return new Promise(function() {
        return null;
      });
    }) : function() {
      return null;
    };
    var FallbackListener = function(_Component) {
      _inherits(FallbackListener2, _Component);
      var _super = _createSuper(FallbackListener2);
      function FallbackListener2() {
        _classCallCheck(this, FallbackListener2);
        return _super.apply(this, arguments);
      }
      _createClass(FallbackListener2, [{
        key: "componentDidMount",
        value: function componentDidMount() {
          _run(this.props, "onStart");
        }
      }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          _run(this.props, "onEnd");
        }
      }, {
        key: "render",
        value: function render() {
          return null;
        }
      }]);
      return FallbackListener2;
    }(React.Component);
    function SuspenseBridge(_ref2) {
      var children = _ref2.children, sus$$ = _ref2.sus$$;
      return React__default.createElement(React.Suspense, {
        fallback: React__default.createElement(FallbackListener, {
          onStart: sus$$.onSuspenseStart,
          onEnd: sus$$.onSuspenseEnd,
          _nk: "".concat(_filehash$4, "21")
        }),
        _nk: "".concat(_filehash$4, "11")
      }, children);
    }
    var LazyBridge = isSupported ? function(_Component2) {
      _inherits(LazyBridge2, _Component2);
      var _super2 = _createSuper(LazyBridge2);
      function LazyBridge2() {
        var _this;
        _classCallCheck(this, LazyBridge2);
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        _this = _super2.call.apply(_super2, [this].concat(args));
        _defineProperty(_assertThisInitialized(_this), "state", {
          suspense: false
        });
        _defineProperty(_assertThisInitialized(_this), "onSuspenseStart", function() {
          _this.setState({
            suspense: true
          });
        });
        _defineProperty(_assertThisInitialized(_this), "onSuspenseEnd", function() {
          _this.setState({
            suspense: false
          });
        });
        _defineProperty(_assertThisInitialized(_this), "sus$$", {
          onSuspenseStart: _this.onSuspenseStart,
          onSuspenseEnd: _this.onSuspenseEnd
        });
        return _this;
      }
      _createClass(LazyBridge2, [{
        key: "render",
        value: function render() {
          var children = this.props.children;
          return React__default.createElement(React.Fragment, null, _run(children, void 0, this.sus$$), this.state.suspense && React__default.createElement(Lazy, {
            _nk: "".concat(_filehash$4, "31")
          }));
        }
      }]);
      return LazyBridge2;
    }(React.Component) : SusNotSupported;
    var SuspenseBridge$1 = isSupported ? SuspenseBridge : SusNotSupported;
    var ErrorBoundaryBridge = function(_Component) {
      _inherits(ErrorBoundaryBridge2, _Component);
      var _super = _createSuper(ErrorBoundaryBridge2);
      function ErrorBoundaryBridge2() {
        _classCallCheck(this, ErrorBoundaryBridge2);
        return _super.apply(this, arguments);
      }
      _createClass(ErrorBoundaryBridge2, [{
        key: "componentDidCatch",
        value: function componentDidCatch(error) {
          var throwError = this.props.error$$;
          _run(throwError, void 0, error, function() {
            _run(throwError, void 0, null);
          });
        }
      }, {
        key: "render",
        value: function render() {
          return this.props.children;
        }
      }]);
      return ErrorBoundaryBridge2;
    }(React.Component);
    _defineProperty(ErrorBoundaryBridge, "getDerivedStateFromError", function() {
      return null;
    });
    var ErrorThrower = function(_Component2) {
      _inherits(ErrorThrower2, _Component2);
      var _super2 = _createSuper(ErrorThrower2);
      function ErrorThrower2() {
        var _this;
        _classCallCheck(this, ErrorThrower2);
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        _this = _super2.call.apply(_super2, [this].concat(args));
        _defineProperty(_assertThisInitialized(_this), "state", {
          error: null
        });
        _defineProperty(_assertThisInitialized(_this), "throwError", function(error, cb) {
          return _this.setState({
            error
          }, cb);
        });
        return _this;
      }
      _createClass(ErrorThrower2, [{
        key: "render",
        value: function render() {
          if (this.state.error) {
            throw this.state.error;
          }
          return _run(this.props.children, void 0, this.throwError);
        }
      }]);
      return ErrorThrower2;
    }(React.Component);
    var _filehash$5 = "lajT";
    function Bridge(_ref) {
      var id = _ref.id, children = _ref.children, bridgeProps = _ref.bridgeProps;
      var sus$$ = bridgeProps.sus$$, ctx$$ = bridgeProps.ctx$$, error$$ = bridgeProps.error$$;
      return React__default.createElement(ErrorBoundaryBridge, {
        error$$,
        _nk: "".concat(_filehash$5, "11")
      }, React__default.createElement(SuspenseBridge$1, {
        sus$$,
        _nk: "".concat(_filehash$5, "21")
      }, React__default.createElement(ProviderBridge, {
        id,
        value: ctx$$,
        _nk: "".concat(_filehash$5, "31")
      }, children)));
    }
    function Acceptor(_ref2) {
      var id = _ref2.id, children = _ref2.children;
      return React__default.createElement(ErrorThrower, {
        _nk: "".concat(_filehash$5, "41")
      }, function(error$$) {
        return React__default.createElement(LazyBridge, {
          _nk: "".concat(_filehash$5, "51")
        }, function(sus$$) {
          return React__default.createElement(RecursiveConsumerBridge, {
            id,
            _nk: "".concat(_filehash$5, "61")
          }, function(ctx$$) {
            return _run(children, void 0, {
              bridgeProps: {
                sus$$,
                ctx$$,
                error$$
              }
            });
          });
        });
      });
    }
    var _excluded$1 = ["forwardedRef"];
    var _filehash$6 = "XKTv";
    var LIFECYCLE_ACTIVATE = "componentDidActivate";
    var LIFECYCLE_UNACTIVATE = "componentWillUnactivate";
    var withActivation = function withActivation2(WrappedComponent) {
      var HOC = function(_Component) {
        _inherits(HOC2, _Component);
        var _super = _createSuper(HOC2);
        function HOC2() {
          var _this;
          _classCallCheck(this, HOC2);
          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
          }
          _this = _super.call.apply(_super, [this].concat(args));
          _defineProperty(_assertThisInitialized(_this), "drop", null);
          return _this;
        }
        _createClass(HOC2, [{
          key: "componentWillUnmount",
          value: function componentWillUnmount() {
            _run(this.drop);
          }
        }, {
          key: "render",
          value: function render() {
            var _this2 = this;
            var _this$props = this.props, forwardedRef = _this$props.forwardedRef, props = _objectWithoutProperties(_this$props, _excluded$1);
            return React__default.createElement(AliveNodeConsumer, {
              _nk: "".concat(_filehash$6, "11")
            }, function() {
              var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, attach = _ref.attach;
              return React__default.createElement(WrappedComponent, _extends({
                ref: function ref(_ref2) {
                  if ([LIFECYCLE_ACTIVATE, LIFECYCLE_UNACTIVATE].every(function(lifecycleName) {
                    return !_isFunction(_get(_ref2, lifecycleName));
                  })) {
                    return;
                  }
                  _this2.drop = _run(attach, void 0, _ref2);
                  if (_isUndefined(forwardedRef)) {
                    return;
                  }
                  if (_isObject(forwardedRef) && "current" in forwardedRef) {
                    forwardedRef.current = _ref2;
                    return;
                  }
                  _run(forwardedRef, void 0, _ref2);
                }
              }, props, {
                _nk: "".concat(_filehash$6, "21")
              }));
            });
          }
        }]);
        return HOC2;
      }(React.Component);
      if (_isFunction(WrappedComponent.prototype.componentDidMount)) {
        WrappedComponent.prototype._componentDidMount = WrappedComponent.prototype.componentDidMount;
        WrappedComponent.prototype.componentDidMount = function componentDidMount() {
          var _this3 = this;
          _nextTick(function() {
            return WrappedComponent.prototype._componentDidMount.call(_this3);
          });
        };
      }
      if (_isFunction(React.forwardRef)) {
        var ForwardedRefHOC = React.forwardRef(function(props, ref) {
          return React__default.createElement(HOC, _extends({}, props, {
            forwardedRef: ref,
            _nk: "".concat(_filehash$6, "31")
          }));
        });
        return hoistStatics(ForwardedRefHOC, WrappedComponent);
      } else {
        return hoistStatics(HOC, WrappedComponent);
      }
    };
    var useActivation = function useActivation2(funcName, func) {
      if ([React.useRef, React.useContext, React.useEffect].some(function(fn) {
        return !_isFunction(fn);
      })) {
        return;
      }
      var ctxValue = React.useContext(aliveNodeContext);
      if (!ctxValue) {
        return;
      }
      var _useRef = React.useRef({}), ref = _useRef.current;
      var attach = ctxValue.attach;
      ref[funcName] = func;
      ref.drop = attach(ref);
      React.useEffect(function() {
        return function() {
          return _run(ref.drop);
        };
      }, []);
    };
    var useActivate = useActivation.bind(null, LIFECYCLE_ACTIVATE);
    var useUnactivate = useActivation.bind(null, LIFECYCLE_UNACTIVATE);
    var _excluded$2 = ["id", "autoFreeze"];
    var _filehash$7 = "bNyU";
    var Freeze$1 = !!React.Suspense ? Freeze : function(_ref) {
      var children = _ref.children;
      return children;
    };
    var Keeper = function(_PureComponent) {
      _inherits(Keeper2, _PureComponent);
      var _super = _createSuper(Keeper2);
      function Keeper2(props) {
        var _this;
        _classCallCheck(this, Keeper2);
        for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
          rest[_key - 1] = arguments[_key];
        }
        _this = _super.call.apply(_super, [this, props].concat(rest));
        _defineProperty(_assertThisInitialized(_this), "eventBus", new _EventBus());
        _defineProperty(_assertThisInitialized(_this), "listeners", /* @__PURE__ */ new Map());
        _defineProperty(_assertThisInitialized(_this), "wrapper", null);
        _defineProperty(_assertThisInitialized(_this), "cache", void 0);
        _defineProperty(_assertThisInitialized(_this), "unmounted", false);
        _defineProperty(_assertThisInitialized(_this), "safeSetState", function(nextState, callback) {
          if (_this.unmounted) {
            return;
          }
          _this.setState(nextState, callback);
        });
        _defineProperty(_assertThisInitialized(_this), "freezeTimeout", null);
        _defineProperty(_assertThisInitialized(_this), "attach", function(ref) {
          var _listeners$set;
          var listeners = _this.listeners;
          if (!ref) {
            return function() {
              return null;
            };
          }
          if (ref.isKeepAlive) {
            _nextTick(function() {
              var _this$props = _this.props, id = _this$props.id, store = _this$props.store;
              var cache = store.get(id);
              cache.aliveNodesId = new Set([].concat(_toConsumableArray(cache.aliveNodesId), [ref.id]));
            });
          }
          listeners.set(ref, (_listeners$set = {}, _defineProperty(_listeners$set, LIFECYCLE_ACTIVATE, function() {
            return _run(ref, LIFECYCLE_ACTIVATE);
          }), _defineProperty(_listeners$set, LIFECYCLE_UNACTIVATE, function() {
            return _run(ref, LIFECYCLE_UNACTIVATE);
          }), _listeners$set));
          return function() {
            listeners["delete"](ref);
          };
        });
        _defineProperty(_assertThisInitialized(_this), "contextValue", {
          id: _this.props.id,
          attach: _this.attach
        });
        _defineProperty(_assertThisInitialized(_this), "drop", function() {
          var _ref2 = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _ref2$delay = _ref2.delay, delay = _ref2$delay === void 0 ? 1200 : _ref2$delay;
          return new Promise(function(resolve) {
            var timeout;
            var _this$props2 = _this.props, scope = _this$props2.scope, id = _this$props2.id;
            var drop = function drop2() {
              clearTimeout(timeout);
              _this.eventBus.off(LIFECYCLE_UNACTIVATE, drop2);
              _this.cache.willDrop = true;
              scope.nodes["delete"](id);
              scope.helpers = _objectSpread2({}, scope.helpers);
              scope.smartForceUpdate(function() {
                return resolve(true);
              });
            };
            var canDrop = _get(_this.cache, "cached") || _get(_this.cache, "willDrop");
            if (!canDrop) {
              _this.eventBus.on(LIFECYCLE_UNACTIVATE, drop);
              timeout = setTimeout(function() {
                _this.eventBus.off(LIFECYCLE_UNACTIVATE, drop);
                resolve(false);
              }, delay);
              return;
            }
            drop();
          });
        });
        _defineProperty(_assertThisInitialized(_this), "refresh", function() {
          return new Promise(function(resolve) {
            var canRefresh = !_get(_this.cache, "cached");
            if (!canRefresh) {
              resolve(false);
            }
            _this.safeSetState({
              key: Math.random()
            }, function() {
              return resolve(true);
            });
          });
        });
        _this.state = {
          children: props.children,
          bridgeProps: props.bridgeProps,
          key: Math.random(),
          freeze: false
        };
        return _this;
      }
      _createClass(Keeper2, [{
        key: "componentDidMount",
        value: function componentDidMount() {
          var _this2 = this, _this$cache;
          var _this$props3 = this.props, store = _this$props3.store, id = _this$props3.id;
          var listeners = this.listeners;
          var node = this.wrapper;
          if (store.has(id)) {
            return;
          }
          var nodes;
          try {
            nodes = _toConsumableArray(node.children);
          } catch (e) {
            nodes = [node.children];
          }
          this.cache = (_this$cache = {
            listeners,
            aliveNodesId: [],
            inited: false,
            cached: false,
            wrapper: node,
            nodes
          }, _defineProperty(_this$cache, LIFECYCLE_ACTIVATE, function() {
            return _this2[LIFECYCLE_ACTIVATE]();
          }), _defineProperty(_this$cache, LIFECYCLE_UNACTIVATE, function() {
            return _this2[LIFECYCLE_UNACTIVATE]();
          }), _this$cache);
          store.set(id, this.cache);
        }
      }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          var _this$props4 = this.props, store = _this$props4.store, keepers = _this$props4.keepers, id = _this$props4.id;
          try {
            var cache = store.get(id);
            cache.nodes.forEach(function(node) {
              cache.wrapper.appendChild(node);
            });
          } catch (error) {
          }
          store["delete"](id);
          keepers["delete"](id);
          this.unmounted = true;
        }
      }, {
        key: LIFECYCLE_ACTIVATE,
        value: function value() {
          clearTimeout(this.freezeTimeout);
          this.safeSetState({
            freeze: false
          });
          this.eventBus.emit(LIFECYCLE_ACTIVATE);
          this.listeners.forEach(function(listener) {
            return _run(listener, [LIFECYCLE_ACTIVATE]);
          });
        }
      }, {
        key: LIFECYCLE_UNACTIVATE,
        value: function value() {
          var _this3 = this;
          this.eventBus.emit(LIFECYCLE_UNACTIVATE);
          var listeners = _toConsumableArray(this.listeners);
          listeners.reverse().forEach(function(_ref3) {
            var _ref4 = _slicedToArray(_ref3, 2), listener = _ref4[1];
            return _run(listener, [LIFECYCLE_UNACTIVATE]);
          });
          clearTimeout(this.freezeTimeout);
          this.freezeTimeout = setTimeout(function() {
            reactDom.flushSync(function() {
              _this3.safeSetState({
                freeze: true
              });
            });
          }, 1e3);
        }
      }, {
        key: "render",
        value: function render() {
          var _this4 = this;
          var _this$props5 = this.props, id = _this$props5.id, _this$props5$autoFree = _this$props5.autoFreeze, autoFreeze = _this$props5$autoFree === void 0 ? true : _this$props5$autoFree, props = _objectWithoutProperties(_this$props5, _excluded$2);
          var _this$state = this.state, children = _this$state.children, bridgeProps = _this$state.bridgeProps, key = _this$state.key, freeze = _this$state.freeze;
          return React__default.createElement(Freeze$1, {
            freeze: autoFreeze && freeze,
            _nk: "".concat(_filehash$7, "11")
          }, React__default.createElement("div", {
            ref: function ref(node) {
              _this4.wrapper = node;
            },
            _nk: "".concat(_filehash$7, "21")
          }, React__default.createElement("div", {
            key: "keeper-container",
            className: "ka-content"
          }, React__default.createElement(Bridge, {
            id,
            bridgeProps,
            _nk: "".concat(_filehash$7, "31")
          }, React__default.createElement(AliveNodeProvider, {
            value: this.contextValue,
            _nk: "".concat(_filehash$7, "41")
          }, React__default.Children.map(children, function(child, idx) {
            return React__default.cloneElement(child, {
              key: "".concat(child.key || "", ":").concat(key, ":").concat(idx)
            });
          }))))));
        }
      }]);
      return Keeper2;
    }(React.PureComponent);
    var _excluded$3 = ["children"];
    var _filehash$8 = "UVSV";
    var HANDLE_TYPE_DROP = "drop";
    var HANDLE_TYPE_REFRESH = "refresh";
    var AliveScope = function(_Component) {
      _inherits(AliveScope2, _Component);
      var _super = _createSuper(AliveScope2);
      function AliveScope2() {
        var _this;
        _classCallCheck(this, AliveScope2);
        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
          args[_key] = arguments[_key];
        }
        _this = _super.call.apply(_super, [this].concat(args));
        _defineProperty(_assertThisInitialized(_this), "store", /* @__PURE__ */ new Map());
        _defineProperty(_assertThisInitialized(_this), "nodes", /* @__PURE__ */ new Map());
        _defineProperty(_assertThisInitialized(_this), "keepers", /* @__PURE__ */ new Map());
        _defineProperty(_assertThisInitialized(_this), "debouncedForceUpdate", _debounce(function(cb) {
          return _this.forceUpdate(cb);
        }));
        _defineProperty(_assertThisInitialized(_this), "updateCallbackList", []);
        _defineProperty(_assertThisInitialized(_this), "smartForceUpdate", function(cb) {
          _this.updateCallbackList.push(cb);
          _this.debouncedForceUpdate(function() {
            _this.updateCallbackList.forEach(function(cb2) {
              return _run(cb2);
            });
            _this.updateCallbackList = [];
          });
        });
        _defineProperty(_assertThisInitialized(_this), "update", function(id, params) {
          return new Promise(function(resolve) {
            var keeper = _this.keepers.get(id);
            var isNew = !keeper;
            var now = Date.now();
            var node = _this.nodes.get(id) || null;
            _this.nodes.set(id, _objectSpread2(_objectSpread2({
              id,
              createTime: now,
              updateTime: now
            }, node), params));
            if (isNew) {
              _this.helpers = _objectSpread2({}, _this.helpers);
              _this.forceUpdate(resolve);
            } else {
              var children = params.children, bridgeProps = params.bridgeProps;
              keeper.setState({
                children,
                bridgeProps
              }, resolve);
            }
          });
        });
        _defineProperty(_assertThisInitialized(_this), "keep", function(id, params) {
          return new Promise(function(resolve) {
            _this.update(id, _objectSpread2({
              id
            }, params)).then(function() {
              resolve(_this.store.get(id));
            });
          });
        });
        _defineProperty(_assertThisInitialized(_this), "getCachingNodesByName", function(name) {
          return _this.getCachingNodes().filter(function(node) {
            return isRegExp(name) ? name.test(node.name) : node.name === name;
          });
        });
        _defineProperty(_assertThisInitialized(_this), "getScopeIds", function(ids) {
          var getCachingNodesId = function getCachingNodesId2(id) {
            var aliveNodesId = _get(_this.getCache(id), "aliveNodesId", []);
            if (aliveNodesId.size > 0) {
              return [id, _toConsumableArray(aliveNodesId).map(getCachingNodesId2)];
            }
            return [id].concat(_toConsumableArray(aliveNodesId));
          };
          return _flatten(ids.map(function(id) {
            return getCachingNodesId(id);
          }));
        });
        _defineProperty(_assertThisInitialized(_this), "dropById", function(id) {
          var _this2;
          for (var _len2 = arguments.length, rest = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
            rest[_key2 - 1] = arguments[_key2];
          }
          return (_this2 = _this).handleNodes.apply(_this2, [[id], HANDLE_TYPE_DROP].concat(rest));
        });
        _defineProperty(_assertThisInitialized(_this), "dropScopeByIds", function(ids) {
          var _this3;
          for (var _len3 = arguments.length, rest = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
            rest[_key3 - 1] = arguments[_key3];
          }
          return (_this3 = _this).handleNodes.apply(_this3, [_this.getScopeIds(ids), HANDLE_TYPE_DROP].concat(rest));
        });
        _defineProperty(_assertThisInitialized(_this), "drop", function(name) {
          var _this4;
          for (var _len4 = arguments.length, rest = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
            rest[_key4 - 1] = arguments[_key4];
          }
          return (_this4 = _this).handleNodes.apply(_this4, [_this.getCachingNodesByName(name).map(function(node) {
            return node.id;
          }), HANDLE_TYPE_DROP].concat(rest));
        });
        _defineProperty(_assertThisInitialized(_this), "dropScope", function(name) {
          var _this5;
          for (var _len5 = arguments.length, rest = new Array(_len5 > 1 ? _len5 - 1 : 0), _key5 = 1; _key5 < _len5; _key5++) {
            rest[_key5 - 1] = arguments[_key5];
          }
          return (_this5 = _this).dropScopeByIds.apply(_this5, [_this.getCachingNodesByName(name).map(function(_ref) {
            var id = _ref.id;
            return id;
          })].concat(rest));
        });
        _defineProperty(_assertThisInitialized(_this), "refreshById", function(id) {
          var _this6;
          for (var _len6 = arguments.length, rest = new Array(_len6 > 1 ? _len6 - 1 : 0), _key6 = 1; _key6 < _len6; _key6++) {
            rest[_key6 - 1] = arguments[_key6];
          }
          return (_this6 = _this).handleNodes.apply(_this6, [[id], HANDLE_TYPE_REFRESH].concat(rest));
        });
        _defineProperty(_assertThisInitialized(_this), "refreshScopeByIds", function(ids) {
          var _this7;
          for (var _len7 = arguments.length, rest = new Array(_len7 > 1 ? _len7 - 1 : 0), _key7 = 1; _key7 < _len7; _key7++) {
            rest[_key7 - 1] = arguments[_key7];
          }
          return (_this7 = _this).handleNodes.apply(_this7, [_this.getScopeIds(ids), HANDLE_TYPE_REFRESH].concat(rest));
        });
        _defineProperty(_assertThisInitialized(_this), "refresh", function(name) {
          var _this8;
          for (var _len8 = arguments.length, rest = new Array(_len8 > 1 ? _len8 - 1 : 0), _key8 = 1; _key8 < _len8; _key8++) {
            rest[_key8 - 1] = arguments[_key8];
          }
          return (_this8 = _this).handleNodes.apply(_this8, [_this.getCachingNodesByName(name).map(function(node) {
            return node.id;
          }), HANDLE_TYPE_REFRESH].concat(rest));
        });
        _defineProperty(_assertThisInitialized(_this), "refreshScope", function(name) {
          var _this9;
          for (var _len9 = arguments.length, rest = new Array(_len9 > 1 ? _len9 - 1 : 0), _key9 = 1; _key9 < _len9; _key9++) {
            rest[_key9 - 1] = arguments[_key9];
          }
          return (_this9 = _this).refreshScopeByIds.apply(_this9, [_this.getCachingNodesByName(name).map(function(_ref2) {
            var id = _ref2.id;
            return id;
          })].concat(rest));
        });
        _defineProperty(_assertThisInitialized(_this), "handleNodes", function(nodesId) {
          var type = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : HANDLE_TYPE_DROP;
          for (var _len10 = arguments.length, rest = new Array(_len10 > 2 ? _len10 - 2 : 0), _key10 = 2; _key10 < _len10; _key10++) {
            rest[_key10 - 2] = arguments[_key10];
          }
          return new Promise(function(resolve) {
            var handleKeepers = [];
            nodesId.forEach(function(id) {
              var cache = _this.store.get(id);
              if (!cache) {
                return;
              }
              var keeper = _this.keepers.get(id);
              handleKeepers.push(keeper);
            });
            if (handleKeepers.length === 0) {
              resolve(false);
              return;
            }
            Promise.all(handleKeepers.map(function(keeper) {
              return _run.apply(void 0, [keeper, type].concat(rest));
            })).then(function(responses) {
              return resolve(responses.every(Boolean));
            });
          });
        });
        _defineProperty(_assertThisInitialized(_this), "clear", function() {
          var _this10;
          for (var _len11 = arguments.length, rest = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {
            rest[_key11] = arguments[_key11];
          }
          return (_this10 = _this).handleNodes.apply(_this10, [_this.getCachingNodes().map(function(_ref3) {
            var id = _ref3.id;
            return id;
          }), HANDLE_TYPE_DROP].concat(rest));
        });
        _defineProperty(_assertThisInitialized(_this), "getCache", function(id) {
          return _this.store.get(id);
        });
        _defineProperty(_assertThisInitialized(_this), "getNode", function(id) {
          return _this.nodes.get(id);
        });
        _defineProperty(_assertThisInitialized(_this), "getCachingNodes", function() {
          return _toConsumableArray(_this.nodes.values());
        });
        _defineProperty(_assertThisInitialized(_this), "helpers", {
          keep: _this.keep,
          update: _this.update,
          drop: _this.drop,
          dropScope: _this.dropScope,
          dropById: _this.dropById,
          dropScopeByIds: _this.dropScopeByIds,
          refresh: _this.refresh,
          refreshScope: _this.refreshScope,
          refreshById: _this.refreshById,
          refreshScopeByIds: _this.refreshScopeByIds,
          getScopeIds: _this.getScopeIds,
          clear: _this.clear,
          getCache: _this.getCache,
          getNode: _this.getNode,
          getCachingNodes: _this.getCachingNodes
        });
        return _this;
      }
      _createClass(AliveScope2, [{
        key: "render",
        value: function render() {
          var _this11 = this;
          var _this$props$children = this.props.children, children = _this$props$children === void 0 ? null : _this$props$children;
          return React__default.createElement(AliveScopeProvider$1, {
            value: this.helpers,
            _nk: "".concat(_filehash$8, "11")
          }, children, React__default.createElement("div", {
            style: {
              display: "none"
            },
            _nk: "".concat(_filehash$8, "21")
          }, _toConsumableArray(this.nodes.values()).map(function(_ref4) {
            var children2 = _ref4.children, props = _objectWithoutProperties(_ref4, _excluded$3);
            return React__default.createElement(Keeper, _extends({
              key: props.id
            }, props, {
              scope: _this11,
              store: _this11.store,
              keepers: _this11.keepers,
              ref: function ref(keeper) {
                _this11.keepers.set(props.id, keeper);
              },
              _nk: "iAr".concat(_filehash$8, "31")
            }), children2);
          })));
        }
      }]);
      return AliveScope2;
    }(React.Component);
    var _excluded$4 = ["id"];
    var _excluded2 = ["id"];
    var _excluded3 = ["forwardedRef"];
    var _excluded4 = ["forwardedRef"];
    var _filehash$9 = "X7Aa";
    function controllerCherryPick(controller) {
      var drop = controller.drop, dropScope = controller.dropScope, refresh = controller.refresh, refreshScope = controller.refreshScope, clear = controller.clear, getCachingNodes = controller.getCachingNodes;
      return {
        drop,
        dropScope,
        refresh,
        refreshScope,
        clear,
        getCachingNodes
      };
    }
    var expandKeepAlive = function expandKeepAlive2(KeepAlive2) {
      var renderContent = function renderContent2(_ref) {
        var idPrefix = _ref.idPrefix, helpers = _ref.helpers, props = _ref.props;
        var isOutsideAliveScope = _isUndefined(helpers);
        if (isOutsideAliveScope) {
          console.error("You should not use <KeepAlive /> outside a <AliveScope>");
        }
        return isOutsideAliveScope ? _get(props, "children", null) : React__default.createElement(NodeKey, {
          prefix: idPrefix,
          key: props._nk,
          manualKey: props.cacheKey,
          _nk: "".concat(_filehash$9, "11")
        }, function(nkId) {
          var id = props.cacheKey || nkId;
          return React__default.createElement(Acceptor, {
            key: id,
            id,
            _nk: "".concat(_filehash$9, "21")
          }, function(bridgeProps) {
            return React__default.createElement(KeepAlive2, _extends({
              key: id
            }, props, bridgeProps, {
              id,
              _helpers: helpers,
              _nk: "".concat(_filehash$9, "31")
            }));
          });
        });
      };
      var HookExpand = function HookExpand2(_ref2) {
        var idPrefix = _ref2.id, props = _objectWithoutProperties(_ref2, _excluded$4);
        return renderContent({
          idPrefix,
          helpers: useScopeContext(),
          props
        });
      };
      var WithExpand = function WithExpand2(_ref3) {
        var idPrefix = _ref3.id, props = _objectWithoutProperties(_ref3, _excluded2);
        return React__default.createElement(AliveScopeConsumer$1, {
          _nk: "".concat(_filehash$9, "41")
        }, function(helpers) {
          return renderContent({
            idPrefix,
            helpers,
            props
          });
        });
      };
      return _isFunction(React.useContext) ? HookExpand : WithExpand;
    };
    var withAliveScope = function withAliveScope2(WrappedComponent) {
      var renderContent = function renderContent2(_ref4) {
        var helpers = _ref4.helpers, props = _ref4.props, forwardedRef = _ref4.forwardedRef;
        return React__default.createElement(WrappedComponent, _extends({}, props, helpers, {
          ref: forwardedRef,
          _nk: "".concat(_filehash$9, "51")
        }));
      };
      var HookScope = function HookScope2(_ref5) {
        var forwardedRef = _ref5.forwardedRef, props = _objectWithoutProperties(_ref5, _excluded3);
        return renderContent({
          helpers: controllerCherryPick(useScopeContext() || {}),
          props,
          forwardedRef
        });
      };
      var WithScope = function WithScope2(_ref6) {
        var forwardedRef = _ref6.forwardedRef, props = _objectWithoutProperties(_ref6, _excluded4);
        return React__default.createElement(AliveScopeConsumer$1, {
          _nk: "".concat(_filehash$9, "42")
        }, function() {
          var controller = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
          return renderContent({
            helpers: controllerCherryPick(controller),
            props,
            forwardedRef
          });
        });
      };
      var HOCWithAliveScope = _isFunction(React.useContext) ? HookScope : WithScope;
      if (_isFunction(React.forwardRef)) {
        var ForwardedRefHOC = React.forwardRef(function(props, ref) {
          return React__default.createElement(HOCWithAliveScope, _extends({}, props, {
            forwardedRef: ref,
            _nk: "".concat(_filehash$9, "61")
          }));
        });
        return hoistStatics(ForwardedRefHOC, WrappedComponent);
      } else {
        return hoistStatics(HOCWithAliveScope, WrappedComponent);
      }
    };
    var useAliveController = function useAliveController2() {
      if (!_isFunction(React.useContext)) {
        return {};
      }
      var ctxValue = useScopeContext();
      if (!ctxValue) {
        return {};
      }
      return controllerCherryPick(ctxValue);
    };
    function isScrollableNode() {
      var node = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
      if (!_isExist(node)) {
        return false;
      }
      return node.scrollWidth > node.clientWidth || node.scrollHeight > node.clientHeight;
    }
    function getScrollableNodes(from) {
      if (!_isFunction(_get(_globalThis, "document.querySelectorAll"))) {
        return [];
      }
      return [].concat(_toConsumableArray(_value(_run(from, "querySelectorAll", "*"), [])), [from]).filter(isScrollableNode);
    }
    function saveScrollPosition(from) {
      var nodes = _toConsumableArray(new Set(_toConsumableArray(_flatten(from.map(getScrollableNodes)))));
      var saver = nodes.map(function(node) {
        return [node, {
          x: node.scrollLeft,
          y: node.scrollTop
        }];
      });
      return function revert() {
        saver.forEach(function(_ref) {
          var _ref2 = _slicedToArray(_ref, 2), node = _ref2[0], _ref2$ = _ref2[1], x = _ref2$.x, y = _ref2$.y;
          node.scrollLeft = x;
          node.scrollTop = y;
        });
      };
    }
    var _excluded$5 = ["_helpers", "id", "children"];
    var _excluded2$1 = ["_helpers", "id", "name"];
    var body = _get(_globalThis, "document.body");
    var screenScrollingElement = _get(_globalThis, "document.scrollingElement", _get(_globalThis, "document.documentElement", {}));
    var parseWhenResult = function parseWhenResult2(res) {
      if (_isArray(res)) {
        return res;
      }
      return [res];
    };
    var KeepAlive = function(_Component) {
      _inherits(KeepAlive2, _Component);
      var _super = _createSuper(KeepAlive2);
      function KeepAlive2(props) {
        var _this;
        _classCallCheck(this, KeepAlive2);
        _this = _super.call(this, props);
        _defineProperty(_assertThisInitialized(_this), "id", null);
        _defineProperty(_assertThisInitialized(_this), "isKeepAlive", true);
        _defineProperty(_assertThisInitialized(_this), "cached", false);
        _defineProperty(_assertThisInitialized(_this), "inject", function() {
          var didActivate = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
          var _this$props = _this.props, id = _this$props.id, saveScrollPosition2 = _this$props.saveScrollPosition, _helpers = _this$props._helpers;
          var cache = _helpers.getCache(id);
          try {
            cache.nodes.forEach(function(node) {
              _this.placeholder.appendChild(node);
            });
            if (didActivate && saveScrollPosition2) {
              _run(cache.revertScrollPos);
            }
          } catch (error) {
          }
        });
        _defineProperty(_assertThisInitialized(_this), "eject", function() {
          var willUnactivate = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;
          var _this$props2 = _this.props, id = _this$props2.id, _helpers = _this$props2._helpers;
          var cache = _helpers.getCache(id);
          var nodesNeedToSaveScrollPosition = _flatten(_flatten([_this.props.saveScrollPosition]).map(function(flag) {
            if (flag === true) {
              return cache.nodes;
            }
            if (flag === "screen") {
              return [screenScrollingElement, body];
            }
            return _toConsumableArray(_value(_run(_globalThis, "document.querySelectorAll", flag), []));
          })).filter(Boolean);
          try {
            if (willUnactivate && nodesNeedToSaveScrollPosition.length > 0) {
              cache.revertScrollPos = saveScrollPosition(nodesNeedToSaveScrollPosition);
            }
            cache.nodes.forEach(function(node) {
              if (willUnactivate) {
                _this.placeholder.removeChild(node);
              } else {
                cache.wrapper.appendChild(node);
              }
            });
          } catch (error) {
          }
        });
        _defineProperty(_assertThisInitialized(_this), "init", function() {
          var _this$props3 = _this.props, _helpers = _this$props3._helpers, id = _this$props3.id, children = _this$props3.children, rest = _objectWithoutProperties(_this$props3, _excluded$5);
          _helpers.keep(id, _objectSpread2({
            children,
            getInstance: function getInstance() {
              return _assertThisInitialized(_this);
            }
          }, rest)).then(function(cache) {
            if (!cache) {
              return;
            }
            _this.inject();
            if (cache.inited) {
              _run(_assertThisInitialized(_this), LIFECYCLE_ACTIVATE);
            } else {
              cache.inited = true;
            }
            _this.cached = false;
          });
        });
        _defineProperty(_assertThisInitialized(_this), "update", function() {
          var _ref = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {}, _helpers = _ref._helpers, id = _ref.id, name = _ref.name, rest = _objectWithoutProperties(_ref, _excluded2$1);
          if (!_helpers || _this.cached) {
            return;
          }
          _helpers.update(id, _objectSpread2({
            name,
            getInstance: function getInstance() {
              return _assertThisInitialized(_this);
            }
          }, rest));
        });
        _this.id = props.id;
        _this.init();
        [LIFECYCLE_ACTIVATE, LIFECYCLE_UNACTIVATE].forEach(function(lifecycleName) {
          _this[lifecycleName] = function() {
            var _this$props4 = _this.props, id = _this$props4.id, _helpers = _this$props4._helpers;
            var cache = _helpers.getCache(id);
            var node = _helpers.getNode(id);
            if (node && lifecycleName === LIFECYCLE_ACTIVATE) {
              node.updateTime = Date.now();
            }
            var cached = lifecycleName === LIFECYCLE_UNACTIVATE;
            if (!cache || cache.willDrop) {
              if (_this.cached && !cached) {
                _this.init();
              }
              return;
            }
            _run(cache, lifecycleName);
            cache.cached = cached;
            _this.cached = cached;
          };
        });
        return _this;
      }
      _createClass(KeepAlive2, [{
        key: "shouldComponentUpdate",
        value: function shouldComponentUpdate(nextProps) {
          this.update(nextProps);
          return false;
        }
      }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
          var _this$props5 = this.props, id = _this$props5.id, _helpers = _this$props5._helpers, _this$props5$when = _this$props5.when, calcWhen = _this$props5$when === void 0 ? true : _this$props5$when;
          var cache = _helpers.getCache(id);
          var _parseWhenResult = parseWhenResult(_run(calcWhen)), _parseWhenResult2 = _slicedToArray(_parseWhenResult, 2), when = _parseWhenResult2[0], isScope = _parseWhenResult2[1];
          if (!cache) {
            return;
          }
          this.eject();
          delete cache.getInstance;
          if (!when) {
            if (isScope) {
              var needToDrop = [cache].concat(_toConsumableArray(_helpers.getScopeIds([id]).map(function(id2) {
                return _helpers.getCache(id2);
              }))).filter(Boolean);
              needToDrop.forEach(function(cache2) {
                cache2.willDrop = true;
              });
              _nextTick(function() {
                return _helpers.dropScopeByIds([id]);
              });
            } else {
              cache.willDrop = true;
              _nextTick(function() {
                return _helpers.dropById(id);
              });
            }
          }
          _run(this, LIFECYCLE_UNACTIVATE);
        }
      }, {
        key: "render",
        value: function render() {
          var _this2 = this;
          return React__default.createElement("div", {
            key: "keep-alive-placeholder",
            className: "ka-wrapper",
            ref: function ref(node) {
              _this2.placeholder = node;
            }
          });
        }
      }]);
      return KeepAlive2;
    }(React.Component);
    _defineProperty(KeepAlive, "defaultProps", {
      saveScrollPosition: true
    });
    function SSRKeepAlive(_ref2) {
      var children = _ref2.children;
      return React__default.createElement("div", {
        key: "keep-alive-placeholder",
        className: "ka-wrapper"
      }, React__default.createElement("div", {
        key: "keeper-container",
        className: "ka-content"
      }, children));
    }
    var KeepAlive$1 = _isFunction(_get(_globalThis, "document.getElementById")) ? expandKeepAlive(withActivation(KeepAlive)) : SSRKeepAlive;
    exports.AliveScope = AliveScope;
    exports.KeepAlive = KeepAlive$1;
    exports.NodeKey = NodeKey;
    exports.autoFixContext = autoFixContext;
    exports.createContext = createContext;
    exports.default = KeepAlive$1;
    exports.fixContext = fixContext;
    exports.useActivate = useActivate;
    exports.useAliveController = useAliveController;
    exports.useUnactivate = useUnactivate;
    exports.withActivation = withActivation;
    exports.withAliveScope = withAliveScope;
  }
});

// node_modules/react-activation/index.js
var require_react_activation = __commonJS({
  "node_modules/react-activation/index.js"(exports, module) {
    if (false) {
      module.exports = null;
    } else {
      module.exports = require_lib3();
    }
  }
});
export default require_react_activation();
//# sourceMappingURL=react-activation.js.map
