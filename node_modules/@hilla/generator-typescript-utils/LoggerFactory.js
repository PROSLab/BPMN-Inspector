import Pino from 'pino';
import PinoPretty from 'pino-pretty';
export default class LoggerFactory {
    #children = new Map();
    #logger;
    constructor({ name, verbose }) {
        const pretty = PinoPretty({
            ignore: 'time',
        });
        this.#logger = Pino({
            base: undefined,
            level: verbose ? 'debug' : 'info',
            name: name ?? 'tsgen',
        }, pretty);
    }
    get global() {
        return this.#logger;
    }
    for(caller) {
        if (this.#children.has(caller)) {
            return this.#children.get(caller);
        }
        const child = this.#logger.child({ caller });
        this.#children.set(caller, child);
        return child;
    }
}
//# sourceMappingURL=LoggerFactory.js.map