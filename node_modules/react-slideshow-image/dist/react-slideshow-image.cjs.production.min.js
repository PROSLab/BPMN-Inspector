"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("react"),t=e(n),r=e(require("resize-observer-polyfill")),i=require("@tweenjs/tween.js");function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var c=function(e,n){return n&&n<t.Children.count(e)?n:0},o={linear:i.Easing.Linear.None,ease:i.Easing.Quadratic.InOut,"ease-in":i.Easing.Quadratic.In,"ease-out":i.Easing.Quadratic.Out,cubic:i.Easing.Cubic.InOut,"cubic-in":i.Easing.Cubic.In,"cubic-out":i.Easing.Cubic.Out},u=function(e){return e?o[e]:o.linear},s=function(e,n,r){var i=e.prevArrow,c=n<=0&&!e.infinite,o={"data-type":"prev","aria-label":"Previous Slide",disabled:c,onClick:r};return i?t.cloneElement(i,a({className:(i.props.className||"")+" nav "+(c?"disabled":"")},o)):t.createElement("button",Object.assign({type:"button",className:"nav default-nav "+(c?"disabled":"")},o),t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})))},l=function(e,n,r){var i=e.nextArrow,c=e.infinite,o=1;"slidesToScroll"in e&&(o=e.slidesToScroll||1);var u=n>=t.Children.count(e.children)-o&&!c,s={"data-type":"next","aria-label":"Next Slide",disabled:u,onClick:r};return i?t.cloneElement(i,a({className:(i.props.className||"")+" nav "+(u?"disabled":"")},s)):t.createElement("button",Object.assign({type:"button",className:"nav default-nav "+(u?"disabled":"")},s),t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})))},f=function(e,n,r,i){var c=e.indicators,o=1;i?o=null==i?void 0:i.settings.slidesToScroll:"slidesToScroll"in e&&(o=e.slidesToScroll||1);var u=Math.ceil(t.Children.count(e.children)/o);return t.createElement("ul",{className:"indicators"},Array.from({length:u},(function(e,i){var u={"data-key":i,"aria-label":"Go to slide "+(i+1),onClick:r},s=Math.floor((n+o-1)/o)===i;return"function"==typeof c?function(e,n,r,i){return t.cloneElement(i,a({className:i.props.className+" "+(e?"active":""),key:n},r))}(s,i,u,c(i)):function(e,n,r){return t.createElement("li",{key:n},t.createElement("button",Object.assign({type:"button",className:"each-slideshow-indicator "+(e?"active":"")},r)))}(s,i,u)})))},d={duration:5e3,transitionDuration:1e3,defaultIndex:0,infinite:!0,autoplay:!0,indicators:!1,arrows:!0,pauseOnHover:!0,easing:"linear",canSwipe:!0,cssClass:"",responsive:[]},v=t.forwardRef((function(e,a){var o=n.useState(c(e.children,e.defaultIndex)),d=o[0],v=o[1],p=n.useRef(null),h=n.useRef(null),m=n.useRef(new i.Group),y=n.useRef(),g=n.useRef(),E=n.useMemo((function(){return t.Children.count(e.children)}),[e.children]),w=n.useCallback((function(){if(h.current&&p.current){var e=p.current.clientWidth;h.current.style.width=e*E+"px";for(var n=0;n<h.current.children.length;n++){var t=h.current.children[n];t&&(t.style.width=e+"px",t.style.left=n*-e+"px",t.style.display="block")}}}),[p,h,E]),b=n.useCallback((function(){p.current&&(g.current=new r((function(e){e&&w()})),g.current.observe(p.current))}),[p,w]),T=n.useCallback((function(){var n=e.children,r=e.duration,i=e.infinite;e.autoplay&&t.Children.count(n)>1&&(i||d<t.Children.count(n)-1)&&(y.current=setTimeout(x,r))}),[e,d]);n.useEffect((function(){return b(),function(){m.current.removeAll(),clearTimeout(y.current),C()}}),[b,m]),n.useEffect((function(){clearTimeout(y.current),T()}),[d,e.autoplay,T]),n.useEffect((function(){w()}),[E,w]),n.useImperativeHandle(a,(function(){return{goNext:function(){x()},goBack:function(){S()},goTo:function(e,n){null!=n&&n.skipTransition?v(e):O(e)}}}));var C=function(){g.current&&p.current&&g.current.unobserve(p.current)},k=function(){e.pauseOnHover&&clearTimeout(y.current)},x=function(){var n=e.children;(e.infinite||d!==t.Children.count(n)-1)&&N((d+1)%t.Children.count(n))},S=function(){(e.infinite||0!==d)&&N(0===d?t.Children.count(e.children)-1:d-1)},M=function(e){"prev"===e.currentTarget.dataset.type?S():x()},N=function(n){if(!m.current.getAll().length){var t;null!=(t=h.current)&&t.children[n]||(n=0),clearTimeout(y.current),function e(){requestAnimationFrame(e),m.current.update()}();var r=new i.Tween({opacity:0,scale:1},m.current).to({opacity:1,scale:e.scale},e.transitionDuration).onUpdate((function(e){h.current&&(h.current.children[n].style.opacity=e.opacity,h.current.children[d].style.opacity=1-e.opacity,h.current.children[d].style.transform="scale("+e.scale+")")}));r.easing(u(e.easing)),r.onStart((function(){"function"==typeof e.onStartChange&&e.onStartChange(d,n)})),r.onComplete((function(){h.current&&(v(n),h.current.children[d].style.transform="scale(1)"),"function"==typeof e.onChange&&e.onChange(d,n)})),r.start()}},O=function(e){e!==d&&N(e)};return t.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},t.createElement("div",{className:"react-slideshow-container "+(e.cssClass||""),onMouseEnter:k,onMouseOver:k,onMouseLeave:function(){e.pauseOnHover&&e.autoplay&&(y.current=setTimeout((function(){return x()}),e.duration))}},e.arrows&&s(e,d,M),t.createElement("div",{className:"react-slideshow-fadezoom-wrapper "+e.cssClass,ref:p},t.createElement("div",{className:"react-slideshow-fadezoom-images-wrap",ref:h},(t.Children.map(e.children,(function(e){return e}))||[]).map((function(e,n){return t.createElement("div",{style:{opacity:n===d?"1":"0",zIndex:n===d?"1":"0"},"data-index":n,key:n,"aria-roledescription":"slide","aria-hidden":n===d?"false":"true"},e)})))),e.arrows&&l(e,d,M)),e.indicators&&f(e,d,(function(e){var n=e.currentTarget;n.dataset.key&&parseInt(n.dataset.key)!==d&&O(parseInt(n.dataset.key))})))}));v.defaultProps=d;var p=t.forwardRef((function(e,n){return t.createElement(v,Object.assign({},e,{scale:1,ref:n}))}));p.defaultProps=d;var h=t.forwardRef((function(e,n){return t.createElement(v,Object.assign({},e,{ref:n}))}));h.defaultProps=d;var m=t.forwardRef((function(e,a){var o,d=n.useState(c(e.children,e.defaultIndex)),v=d[0],p=d[1],h=n.useState(0),m=h[0],y=h[1],g=n.useRef(null),E=n.useRef(null),w=n.useRef(new i.Group),b=n.useMemo((function(){return function(e,n){if("undefined"!=typeof window&&Array.isArray(n))return n.find((function(n){return n.breakpoint<=e}))}(m,e.responsive)}),[m,e.responsive]),T=n.useMemo((function(){return b?b.settings.slidesToScroll:e.slidesToScroll||1}),[b,e.slidesToScroll]),C=n.useMemo((function(){return b?b.settings.slidesToShow:e.slidesToShow||1}),[b,e.slidesToShow]),k=n.useMemo((function(){return t.Children.count(e.children)}),[e.children]),x=n.useMemo((function(){return m/C}),[m,C]),S=n.useRef(),M=n.useRef(),N=!1,O=0,R=n.useCallback((function(){if(E.current){E.current.style.width=m*E.current.children.length+"px";for(var e=0;e<E.current.children.length;e++){var n=E.current.children[e];n&&(n.style.width=x+"px",n.style.display="block")}}}),[m,x]),A=n.useCallback((function(){g.current&&(M.current=new r((function(e){e&&F()})),M.current.observe(g.current))}),[g]),I=n.useCallback((function(){e.autoplay&&(e.infinite||v<k-1)&&(S.current=setTimeout(z,e.duration))}),[e,k,v]);n.useEffect((function(){R()}),[m,R]),n.useEffect((function(){return A(),function(){w.current.removeAll(),clearTimeout(S.current),j()}}),[g,A,w]),n.useEffect((function(){clearTimeout(S.current),I()}),[v,m,e.autoplay,I]),n.useImperativeHandle(a,(function(){return{goNext:function(){z()},goBack:function(){q()},goTo:function(e,n){null!=n&&n.skipTransition?p(e):B(e)}}}));var j=function(){M&&g.current&&M.current.unobserve(g.current)},H=function(){e.pauseOnHover&&clearTimeout(S.current)},P=function(n){var t;if(e.canSwipe&&N&&(window.TouchEvent&&n.nativeEvent instanceof TouchEvent?t=n.nativeEvent.touches[0].pageX:n.nativeEvent instanceof MouseEvent&&(t=n.nativeEvent.clientX),t&&o)){var r=x*(v+U()),i=t-o;if(!e.infinite&&v===k-T&&i<0)return;if(!e.infinite&&0===v&&i>0)return;E.current.style.transform="translate(-"+(r-=O=i)+"px)"}},z=function(){if(e.infinite||v!==k-T){var n=D(v+T);Q(n)}},q=function(){if(e.infinite||0!==v){var n=v-T;n%T&&(n=Math.ceil(n/T)*T),Q(n)}},B=function(e){Q(D(e))},D=function(e){return e<k&&e+T>k&&(k-T)%T?k-T:e},X=function(e){"next"===e.currentTarget.dataset.type?z():q()},F=function(){g.current&&y(g.current.clientWidth)},G=function(n){e.canSwipe&&(window.TouchEvent&&n.nativeEvent instanceof TouchEvent?o=n.nativeEvent.touches[0].pageX:n.nativeEvent instanceof MouseEvent&&(o=n.nativeEvent.clientX),clearTimeout(S.current),N=!0)},L=function(){e.canSwipe&&(N=!1,Math.abs(O)/m>.2?O<0?z():q():Math.abs(O)>0&&Q(v,300))},Q=function(n,t){var r=t||e.transitionDuration,a=v,c=w.current.getAll();if(g.current){var o=g.current.clientWidth/C;if(!c.length){clearTimeout(S.current);var s={margin:-o*(a+U())+O},l=new i.Tween(s,w.current).to({margin:-o*(n+U())},r).onUpdate((function(e){E.current&&(E.current.style.transform="translate("+e.margin+"px)")}));l.easing(u(e.easing)),function e(){requestAnimationFrame(e),w.current.update()}();var f=n;f<0?f=k-T:f>=k&&(f=0),l.onStart((function(){"function"==typeof e.onStartChange&&e.onStartChange(v,f)})),l.onComplete((function(){O=0,"function"==typeof e.onChange&&e.onChange(v,f),p(f)})),l.start()}}},U=function(){return e.infinite?C:0},W={transform:"translate(-"+(v+U())*x+"px)"};return t.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},t.createElement("div",{className:"react-slideshow-container",onMouseEnter:H,onMouseOver:H,onMouseLeave:function(){N?L():e.pauseOnHover&&e.autoplay&&(S.current=setTimeout(z,e.duration))},onMouseDown:G,onMouseUp:L,onMouseMove:P,onTouchStart:G,onTouchEnd:L,onTouchCancel:L,onTouchMove:P},e.arrows&&s(e,v,X),t.createElement("div",{className:"react-slideshow-wrapper slide "+(e.cssClass||""),ref:g},t.createElement("div",{className:"images-wrap",style:W,ref:E},e.infinite&&t.Children.toArray(e.children).slice(-C).map((function(e,n){return t.createElement("div",{"data-index":n-C,"aria-roledescription":"slide","aria-hidden":"true",key:n-C},e)})),(t.Children.map(e.children,(function(e){return e}))||[]).map((function(e,n){var r=function(e){return e<v+C&&e>=v}(n);return t.createElement("div",{"data-index":n,key:n,className:r?"active":"","aria-roledescription":"slide","aria-hidden":r?"false":"true"},e)})),function(){if(e.infinite||C!==T)return t.Children.toArray(e.children).slice(0,C).map((function(e,n){return t.createElement("div",{"data-index":k+n,"aria-roledescription":"slide","aria-hidden":"true",key:k+n},e)}))}())),e.arrows&&l(e,v,X)),e.indicators&&f(e,v,(function(e){var n=e.currentTarget;if(n.dataset.key){var t=parseInt(n.dataset.key);B(t*T)}}),b))}));m.defaultProps=d,exports.Fade=p,exports.Slide=m,exports.Zoom=h;
//# sourceMappingURL=react-slideshow-image.cjs.production.min.js.map
