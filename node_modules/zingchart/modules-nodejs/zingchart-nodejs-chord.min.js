/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.10
*/
zingchart.setModule("chord"),function(){var l;ZC.AE3=((l=function(){this.AEN="palette",this.C2="#6a921f",this.BP=[],this.SY=.8,this.AEI=.1,this.AEG=0,this.AEF=5,this.iGroupPadding=10,this.iGroupOffset=0,this.JF=1,this.K8=!1,this.fBandAlpha=.75,this.fChordAlpha=.75,this.iHoverEffect=1,this.AGH=function(){for(var l=(16777215*Math.random()+1<<0).toString(16);l.length<6;)l="0"+l;return"#"+l}}).getDefaults=function(e){var t={};return ZC._cp_(l.B8,t),l.NS[e]&&ZC._cp_(l.NS[e],t),t},l.B8={palette:[],"border-color-1":"#999","border-color-2":"#666",alpha:.75,tick:{"line-color":"#666",flat:!0,"line-width":1},item:{color:"#333","offset-r":0},label:{"auto-align":!0,color:"#333","offset-r":0},"value-box":{visible:!1}},l.NS={light:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#000","border-color-2":"#fff",alpha:1,tick:{"line-color":"#666"}},dark:{palette:[["#7CA82B","#7CA82B","#638F12"],["#29A2CC","#29A2CC","#1089B3"],["#D31E1E","#D31E1E","#BA0505"],["#EF8535","#EF8535","#D66C1C"],["#A05F18","#A05F18","#874600"],["#265E96","#265E96","#0D457D"],["#6B7075","#6B7075","#52575C"]],"border-color-1":"#221F1F","border-color-2":"#221F1F",alpha:1,tick:{"line-color":"#58595B"},item:{color:"#fff"},label:{color:"#D1D3D4"}}},l);var e={},t={},n=null,a=null,_=-1,o=-1;zingchart.bind(null,"dataparse",function(l,r){var i,C,p,s,Z,g,u=zingchart.getLoader(l.id);zingchart.initThemes(u);for(var h=ZC.AE3.getDefaults(l.theme),d=0,c=r.graphset.length;d<c;d++)if("chord"===r.graphset[d].type){var f=r.graphset[d].type,v=r.graphset[d],A={};v.options&&(A=v.options[f]||v.options),ZC._todash_(A),null!==ZC._n_(n)&&(v.shapes=[],ZC._cpa_(n,v.shapes)),null!==ZC._n_(a)&&(v.labels=[],ZC._cpa_(a,v.labels));var b=new ZC.AE3;e["chord-"+l.id+"-"+d]=b,null!==ZC._n_(i=A["color-type"])&&(b.AEN=i),null!==ZC._n_(i=A.color)&&(b.C2=ZC.AP.G9(i)),null!==ZC._n_(i=A["hover-effect"])&&(b.iHoverEffect=ZC._i_(i)),null!==ZC._n_(i=A.palette)?b.BP=i:h.palette.length>0&&(b.BP=h.palette),null!==ZC._n_(i=A.radius)&&(b.SY=ZC._f_(ZC.IJ(i))),null!==ZC._n_(i=A["band-width"])&&(b.AEI=ZC._f_(ZC.IJ(i))),null!==ZC._n_(i=A["band-space"])&&(b.AEG=ZC._f_(ZC.IJ(i))),null!==ZC._n_(i=A["angle-padding"])&&(b.AEF=ZC._i_(i)),null!==ZC._n_(i=A["group-padding"])&&(b.iGroupPadding=ZC._i_(i)),null!==ZC._n_(i=A["group-offset"])&&(b.iGroupOffset=ZC._i_(i)),null!==ZC._n_(i=A["size-factor"])&&(b.JF=ZC._f_(i)),null!==ZC._n_(i=A.flat)&&(b.K8=ZC._b_(i));var x=v.series;for(C=0;C<x.length;C++)x[C]["sort-index"]=C;var y=[];x.sort(function(l,e){return null!==ZC._n_(l.group)&&-1===ZC.AV(y,ZC._i_(l.group))&&y.push(ZC._i_(l.group)),null!==ZC._n_(e.group)&&-1===ZC.AV(y,ZC._i_(e.group))&&y.push(ZC._i_(e.group)),null!==ZC._n_(l.group)&&null!==ZC._n_(e.group)&&ZC._i_(l.group)-ZC._i_(e.group)!=0?ZC._i_(l.group)-ZC._i_(e.group):l["sort-index"]-e["sort-index"]});var E=ZC.BQ(y.length,1),B=t["chord-"+l.id+"-"+d]||[],m=B.length,F=0;for(C=0,p=x.length;C<p;C++)if(0===m||m>0&&-1===ZC.AV(B,C))for(Z=0,g=(s=x[C].values||[]).length;Z<g;Z++)(0===m||m>0&&-1===ZC.AV(B,Z))&&(F+=ZC._f_(s[Z]));var M=0;for(C=0,p=x.length;C<p;C++)(0===m||m>0&&-1===ZC.AV(B,C))&&M++;if(-1===_&&(_=x.length),-1===o)for(C=0,p=x.length;C<p;C++)s=x[C].values||[],o=ZC.BQ(o,s.length);v.shapes||(v.shapes=[]),n||(n=[],ZC._cpa_(v.shapes,n));var N=v.shapes;v.labels||(v.labels=[]),a||(a=[],ZC._cpa_(v.labels,a));var k,V,w,D,G,z,I,P,Q,S,Y=v.labels;v.legend&&(v.legend["toggle-action"]="none");var J,L=360-b.AEF*M-b.iGroupPadding*(E>1?E:0),H=[],O=[],R=[],U=0,X=0,K=null,T=!1;for(C=0,p=x.length;C<p;C++){ZC._todash_(x[C]),J=1,null!==ZC._n_(x[C].group)&&(J=ZC._i_(x[C].group)),T=!1,X=0,null===K&&null!==ZC._n_(x[C].group)?K=ZC._i_(x[C].group):ZC._i_(x[C].group)!==K&&(K=ZC._i_(x[C].group),T=!0),T&&C>0&&(X=b.iGroupPadding);var j=b.C2;if("palette"===b.AEN)if(b.BP.length>0)j=b.BP[C%b.BP.length];else j=zingchart.getPalette(u,C,"bar")[1];else"random"===b.AEN&&(j=b.AGH());if(0===m||m>0&&-1===ZC.AV(B,C)){null===ZC._n_(x[C]["background-color"])&&(x[C]["background-color"]=j),x[C].visible=!0;var q={},W=0;for(Z=0,g=(s=x[C].values||[]).length;Z<g;Z++)(0===m||m>0&&-1===ZC.AV(B,Z))&&(W+=ZC._f_(s[Z]));for(var $ in q["angle-start"]=U+X,q["angle-end"]=q["angle-start"]+L*W/F,q.group=J,q.total=W,q.values=x[C].values,x[C])"data-"===$.substr(0,5)&&(q[$]=x[C][$]);U=q["angle-end"]+b.AEF,H.push(q);var ll=zingchart.getInstance(u,"style");ll.append(x[C]),ll.parse(),O[C]=ll,v.legend&&ZC._cp_({"legend-marker":{alpha:.75,"background-color-1":ll.A0,"background-color-2":ll.AE}},x[C]),I={"background-color":"#fff",color:"#333","border-width":1,"border-color":h["border-color-1"],padding:10},null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tooltip)&&ZC._cp_(i,I);var el=x[C].text||"";I.text=el;var tl={alpha:h.alpha,"border-width":0,"background-color":ll.A0+" "+ll.AE,tooltip:I};null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.band)&&ZC._cp_(i,tl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.band)&&ZC._cp_(i,tl),ZC._cp_({type:"pie",id:"segment_"+C,"angle-start":q["angle-start"],"angle-end":q["angle-end"]},tl),tl.tooltip.text=tl.tooltip.text.replace(/%text/gi,el),b.fBandAlpha=tl.alpha||.75,R.push(tl)}else x[C].visible=!1,H.push(null),R.push(null)}var nl=0;if(E>1){var al=Number.MAX_VALUE,_l=-Number.MAX_VALUE;for(C=0,p=H.length;C<p;C++)1===H[C].group&&(al=Math.min(al,H[C]["angle-start"]),_l=Math.max(_l,H[C]["angle-end"]));nl=(_l-al)/2}for(nl+=b.iGroupOffset,C=0,p=H.length;C<p;C++)H[C]&&R[C]&&(H[C]["angle-start"]-=nl,H[C]["angle-end"]-=nl,R[C]["angle-start"]-=nl,R[C]["angle-end"]-=nl,N.push(R[C]));var ol,rl=Number.MAX_VALUE;if(0!==F){for(C=0,p=H.length;C<p;C++)if(0===m||m>0&&-1===ZC.AV(B,C)){var il=Math.pow(10,Math.floor(Math.log(H[C].total)/Math.LN10));il>0&&(rl=ZC.CY(rl,il))}for(;!((ol=L*rl/F)<15);)rl/=2}else rl=1;var Cl,pl,sl,Zl,gl,ul,hl,dl=Math.min(0,Math.ceil(Math.log(rl)/Math.LN10)+1),cl=0,fl=0;for(C=0,p=H.length;C<p;C++)if(0===m||m>0&&-1===ZC.AV(B,C))for(Cl=0,pl=ZC.BQ(1,Math.floor(10/ol)),k=H[C]["angle-start"];k<H[C]["angle-end"];k+=ol)Cl%pl==0&&(gl=(sl=Cl*rl).toFixed(dl),sl>=1e3&&(gl=sl/1e3+"k"),sl>=1e6&&(gl=sl/1e6+"M"),Zl={},ZC._cp_(h.item,Zl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.item)&&ZC._cp_(i,Zl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.item)&&ZC._cp_(i,Zl),Zl.text=gl,ZC._todash_(Zl),(ul=zingchart.getInstance(u,"textbox")).append(Zl),ul.parse(),fl=Math.max(fl,ul.DV),cl=Math.max(cl,ul.I)),Cl++;var vl,Al=0,bl=0,xl=0;for(C=0;C<x.length;C++)gl=x[C].text||"",vl={},ZC._cp_(h.label,vl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.label)&&ZC._cp_(i,vl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.label)&&ZC._cp_(i,vl),vl.text=gl,ZC._todash_(vl),(hl=zingchart.getInstance(u,"textbox")).append(vl),hl.parse(),xl=Math.max(xl,hl.DV),Al=Math.max(Al,hl.I),bl=Math.max(bl,hl.F);if(v.plotarea)for(var yl=["margin","margin-top","margin-right","margin-bottom","margin-left"],El=0;El<yl.length;El++)"dynamic"===v.plotarea[yl[El]]&&(0===hl.AA?v.plotarea[yl[El]]=cl+fl+bl-20:v.plotarea[yl[El]]=cl+fl+Al-20);var Bl,ml,Fl=zingchart.getGraphInfo(u,r,d),Ml=Fl.plotarea.x+Fl.plotarea.width/2,Nl=Fl.plotarea.y+Fl.plotarea.height/2,kl=Fl.graph.x+Ml,Vl=Fl.graph.y+Nl;for(Bl=b.SY>1?ZC._i_(b.SY):ZC._i_(b.SY*ZC.CY(Fl.plotarea.width/2,Fl.plotarea.height/2)),Bl*=b.JF,ml=b.AEI>1?Bl-ZC._i_(b.AEI):ZC._i_((1-b.AEI)*Bl),b.AEG<1&&(b.AEG=ZC._i_(b.AEG*Bl)),C=0,p=N.length;C<p;C++)N[C].id&&0===N[C].id.indexOf("segment_")&&(N[C].x=Ml,N[C].y=Nl,N[C].size=Bl,N[C].slice=ml);for(C=0,p=H.length;C<p;C++)if(0===m||m>0&&-1===ZC.AV(B,C)){Cl=0;var wl=[],Dl={};ZC._cp_(h.tick,Dl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tick)&&ZC._cp_(i,Dl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.tick)&&ZC._cp_(i,Dl);var Gl=Dl.size||5;for(pl=ZC.BQ(1,Math.floor(10/ol)),z=30,k=H[C]["angle-start"];k<H[C]["angle-end"];k+=ol){var zl=ZC.AQ.BN(kl,Vl,Bl,k+.1),Il=ZC.AQ.BN(kl,Vl,Bl+Gl,k+.1);wl.push(zl,Il,null),Cl%pl==0&&(gl=(sl=Cl*rl).toFixed(dl),sl>=1e3&&(gl=sl/1e3+"k"),sl>=1e6&&(gl=sl/1e6+"M"),V=k,w="left",k>90&&k<270&&(V=k-180,w="right"),Zl={},ZC._cp_(h.item,Zl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.item)&&ZC._cp_(i,Zl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.item)&&ZC._cp_(i,Zl),z=Zl.width||cl,G=ZC._i_(Zl["offset-r"]||"0"),D=ZC.AQ.BN(Ml,Nl,Bl+Gl+G+z/2,k+.1),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(D[0]),y:ZC._i_(D[1]),width:z,angle:V,"text-align":w,text:gl},Zl),("undefined"==typeof Zl.visible||ZC._b_(Zl.visible))&&Y.push(Zl)),Cl++}ZC._cp_({type:"line",id:"ticks"+C,points:wl},Dl),("undefined"==typeof Dl.visible||ZC._b_(Dl.visible))&&N.push(Dl),V=k=(H[C]["angle-start"]+H[C]["angle-end"])/2,k<0&&(k+=360),k%=360,w="center",0===hl.AA?k>=0&&k<=180?V-=90:V+=90:k>=0&&k<=90||k>=270&&k<=360?V-=90:V+=90;var Pl={};ZC._cp_(h["value-box"],Pl),null!==ZC._n_(v.plot)&&null!==ZC._n_(i=v.plot["value-box"])&&ZC._cp_(i,Pl),null!==ZC._n_(i=x[C]["value-box"])&&ZC._cp_(i,Pl);var Ql=ZC.AQ.BN(kl,Vl,(Bl+ml)/2,(H[C]["angle-start"]+H[C]["angle-end"])/2),Sl=V;null===ZC._n_(Pl.angle)&&null===ZC._n_(Pl["font-angle"])||(Pl["auto-align"]?null!==ZC._n_(Pl.angle)?Sl+=ZC._f_(Pl.angle):Sl+=ZC._f_(Pl["font-angle"]):Sl=null!==ZC._n_(Pl.angle)?ZC._f_(Pl.angle):ZC._f_(Pl["font-angle"])),ZC._cp_({id:"vbox_"+C,anchor:"c",angle:Sl,x:Ql[0],y:Ql[1],flat:!0},Pl),Pl.text=Pl.text||"%node-value",Pl.text=Pl.text.replace(/%plot-text/gi,x[C].text||"").replace(/%node-value/gi,H[C].total),("undefined"==typeof Pl.visible||ZC._b_(Pl.visible))&&Y.push(Pl),vl={},ZC._cp_(h.label,vl),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.label)&&ZC._cp_(i,vl),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.label)&&ZC._cp_(i,vl),Q=vl.width||Al,S=vl.height||bl,P=ZC._i_(vl["offset-r"]||"0"),null===ZC._n_(vl.angle)&&null===ZC._n_(vl["font-angle"])||(vl["auto-align"]?(null!==ZC._n_(vl.angle)?V+=ZC._f_(vl.angle):V+=ZC._f_(vl["font-angle"]),0!==hl.AA&&(w=k>=0&&k<=90||k>=270&&k<=360?"left":"right")):V=null!==ZC._n_(vl.angle)?ZC._f_(vl.angle):ZC._f_(vl["font-angle"])),D=0===hl.AA?ZC.AQ.BN(Ml,Nl,Bl+Gl+G+z+P+S,k):ZC.AQ.BN(Ml,Nl,Bl+Gl+G+z+P+Q/2,k),ZC._cp_({anchor:"c",flat:!0,x:ZC._i_(D[0]),y:ZC._i_(D[1]),width:Q,angle:V,"font-angle":V,"text-align":w,text:x[C].text},vl),("undefined"==typeof vl.visible||ZC._b_(vl.visible))&&Y.push(vl)}var Yl=ml-b.AEG;for(C=0,p=H.length;C<p;C++)if(0===m||m>0&&-1===ZC.AV(B,C))for(Z=0,g=H.length;Z<p;Z++)if(0===m||m>0&&-1===ZC.AV(B,Z)){for(var Jl=0,Ll=0,Hl=0;Hl<Z;Hl++)(0===m||m>0&&-1===ZC.AV(B,Hl))&&("undefined"==typeof H[C].values[Hl]&&(H[C].values[Hl]=0),Jl+=H[C].values[Hl]);for(Hl=0;Hl<C;Hl++)(0===m||m>0&&-1===ZC.AV(B,Hl))&&("undefined"==typeof H[Z].values[Hl]&&(H[Z].values[Hl]=0),Ll+=H[Z].values[Hl]);var Ol=0;"undefined"!=typeof H[C].values[Z]&&(Ol=H[C].values[Z]);var Rl=0;"undefined"!=typeof H[Z].values[C]&&(Rl=H[Z].values[C]);var Ul=H[C]["angle-start"]+(H[C]["angle-end"]-H[C]["angle-start"])*Jl/H[C].total,Xl=Ul+(H[C]["angle-end"]-H[C]["angle-start"])*Ol/H[C].total,Kl=H[Z]["angle-start"]+(H[Z]["angle-end"]-H[Z]["angle-start"])*Ll/H[Z].total,Tl=Kl+(H[Z]["angle-end"]-H[Z]["angle-start"])*Rl/H[Z].total;0===H[C].total&&(Ul=H[C]["angle-start"],Xl=H[C]["angle-end"]),0===H[Z].total&&(Kl=H[Z]["angle-start"],Tl=H[Z]["angle-end"]);var jl=ZC.AQ.BN(kl,Vl,Yl,Ul),ql=ZC.AQ.BN(kl,Vl,Yl,Kl);I={"background-color":"#fff",color:"#333","border-width":1,"border-color":h["border-color-1"],padding:10},null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.tooltip)&&ZC._cp_(i,I);var Wl=x[C].text||"",$l=x[Z].text||"",le={},ee=[];if(C===Z?(I.text=Wl+":"+H[C].values[Z],ee=[[jl[0],jl[1]],[kl,Vl,Yl,Ul,Xl,0],[kl,Vl,jl[0],jl[1]]]):C<=Z&&(I.text=Wl+" -> "+$l+":"+H[C].values[Z]+"<br>"+$l+" -> "+Wl+":"+H[Z].values[C],ee=[[jl[0],jl[1]],[kl,Vl,Yl,Ul,Xl,0],[kl,Vl,ql[0],ql[1]],[kl,Vl,Yl,Kl,Tl,0],[kl,Vl,jl[0],jl[1]]]),ee.length>0){var te=Ol>=Rl?C:Z;ZC._cp_({"background-color":O[te].A0+" "+O[te].AE,alpha:.75,"border-width":1,"border-color":h["border-color-2"],tooltip:I},le),null!==ZC._n_(A.style)&&null!==ZC._n_(i=A.style.chord)&&ZC._cp_(i,le),null!==ZC._n_(x[C].style)&&null!==ZC._n_(i=x[C].style.chord)&&ZC._cp_(i,le),ZC._cp_({type:"poly",id:"chord_"+C+"_"+Z,dynamic:!0,"fast-vector-path":!0,points:ee},le),b.fChordAlpha=le.alpha||.75,C!==Z&&null!==ZC._n_(i=le.tooltip["text-chord"])&&(le.tooltip.text=i),le.tooltip.text=le.tooltip.text.replace(/%text-destination/gi,$l).replace(/%value-destination/gi,H[Z].values[C]).replace(/%text-source/gi,Wl).replace(/%value-source/gi,H[C].values[Z]).replace(/%text/gi,Wl).replace(/%value/gi,H[C].values[Z]);var ne=null;for(var $ in H[C])"data-"===$.substr(0,5)&&(ne=new RegExp("%"+$+"-destination","g"),le.tooltip.text=le.tooltip.text.replace(ne,H[C][$][Z]||""));for(var $ in H[Z])"data-"===$.substr(0,5)&&(ne=new RegExp("%"+$+"-source","g"),le.tooltip.text=le.tooltip.text.replace(ne,H[Z][$][C]||""));ne=new RegExp("%data-([a-zA-Z0-9]+)-(source|destination)","g"),le.tooltip.text=le.tooltip.text.replace(ne,""),ne=new RegExp("%data-([a-zA-Z0-9]+)","g"),le.tooltip.text=le.tooltip.text.replace(ne,""),("undefined"==typeof le.visible||ZC._b_(le.visible))&&(0===Ol&&0===Rl||N.push(le))}}}return r})}();